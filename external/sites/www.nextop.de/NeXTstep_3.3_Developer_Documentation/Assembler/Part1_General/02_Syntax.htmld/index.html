<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/Assembler/Part1_General/02_Syntax.rtf -->
<!-- Date: Sun Jun 28 19:30:07 1998 -->
<head>
<title>02_Syntax</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+3" color="#0000FF"><b>2</b></font></td></tr>

</table>

<p><br><br>

<p><font face="Times" size="+3"><i>Assembly Language Syntax</i></font>

<p><br><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">This chapter first describes the basic lexical elements of assembly language programming, and then describes how those elements combine to form complete assembly language expressions.</font>

<p><font face="Times">The following chapter goes on to explain how sequences of expressions are put together to form the statements that make up an assembly language program.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+2"><b>Elements of Assembly Language</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">This section describes the basic building blocks of an assembly language program--these are characters, symbols, labels, and constants.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Characters</b></font>

<p><font face="Times">The following characters are used in assembly language programs</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">alphanumeric characters--`A' through `Z', `a' through `z', and `0' through `9'</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">other printable ASCII characters (such as <b>#</b>, $, :, ., +, -, *, /, !, and |)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">non-printing ASCII characters (such as space, tab, return, and newline)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Some of these characters have special meanings, which are described in the section &quot;Expression Syntax&quot; and in the following chapter.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Identifiers</b></font>

<p><font face="Times">An <i>identifier</i> (also known as a <i>symbol</i>) can be used for several purposes:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">as the <i>label</i> for an assembler statement (see the following section, &quot;Labels&quot;)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">as a location tag for data</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">as the symbolic name of a constant</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Each identifier consists of a sequence of alphanumeric characters (which may include other printable ASCII characters such as <b>.</b>, <b>_</b>, and <b>$</b>).&nbsp; The first character must not be numeric.&nbsp;&nbsp; Identifiers may be of any length, and all characters are significant.&nbsp; Case of letters is significant--for example, the identifier <b>var</b> is different from the identifier <b>Var</b>.</font>

<p><font face="Times">It is also possible to define a new identifier by enclosing multiple identifiers within a pair of double quotes.&nbsp; For example:</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">&#34;Object +new:&#34;:</font><br>
<img src="../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">.long &#34;Object +new:&#34;</font>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+1"><b>Labels</b></font>

<p><font face="Times">A label is written as an identifier immediately followed by a colon ( <b>:</b> ).&nbsp; The label represents the current value of the current location counter; it can be used in assembler instructions as an operand.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">You may not use a single identifier to represent two different locations.</font>

<p><br><br>

<p><font face="Helvetica" size="+1"><b>Numeric Labels</b></font>

<p><font face="Times">Local numeric labels allow compilers and programmers to use names temporarily.&nbsp; A numeric label consists of a digit (between 0 and 9) followed by a colon.&nbsp; These ten local symbol names can be reused any number of times throughout the program.&nbsp; As with alphanumeric labels, a numeric label assigns the current value of the location counter to the symbol.</font>

<p><font face="Times">Although multiple numeric labels with the same digit may be used within the same program,&nbsp; only the next definition and the most recent previous definition of a label can be referenced:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">To refer to the most recent previous definition of a local numeric label, write <i>digit</i><b>b</b>, (using the same digit as when you defined the label).</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">To refer to the next definition of a numeric label, write <i>digit</i><b>f</b>.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+1"><b>The Scope of a Label</b></font>

<p><font face="Times">The scope of a label is the distance over which it is visible to (and referenceable by) other parts of the program.&nbsp; Normally, a label that tags a location or data is visible only within the current assembly unit.</font>

<p><font face="Times">The <b>.globl</b> directive (described in Chapter 4) may be used to make a label external.&nbsp; In this case, the symbol is visible to other assembly units at link time.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Constants</b></font>

<p><font face="Times">Four types of constants are available:&nbsp; <i>numeric constants</i>, <i>character constants</i>, <i>string constants</i>, and <i>floating point constants</i>. All constants are interpreted as absolute quantities when they appear in an expression.</font>

<p><br><br>

<p><font face="Helvetica" size="+1"><b>Numeric Constants</b></font>

<p><font face="Times">A numeric constant is a token that starts with a digit.&nbsp; Numeric constants can be decimal, hexadecimal, or octal.&nbsp; The following restrictions apply:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">Decimal constants contain only digits between 0 and 9, and normally aren't longer than 32 bits--having a value between -2,147,483,648 and 2,147,483,647 (values that don't fit in 32 bits are <i>bignums</i>, which are legal but which should fit within the designated format).&nbsp; Decimal constants cannot contain leading zeros or commas.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">Hexadecimal constants start with 0x (or 0X), followed by between one and eight decimal or hexadecimal digits (0 through 9, `a' through `f',&nbsp; and `A' through `F').&nbsp; Values that don't fit in 32 bits are bignums.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">Octal constants start with 0, followed by from one to eleven octal digits (0 through 7).&nbsp; Values that don't fit in 32 bits are bignums.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+1"><b>Character Constants</b></font>

<p><font face="Times">A single-character constant consists of a single quote ( ' ) followed by any ASCII character.&nbsp; The constant's value is the code for the given character.</font>

<p><br><br>

<p><font face="Helvetica" size="+1"><b>String Constants</b></font>

<p><font face="Times">A string constant is a sequence of 0 or more ASCII characters surrounded by quotation marks ( &#34;<i>characters</i>&#34; ).</font>

<p><br><br>

<p><font face="Helvetica" size="+1"><b>Floating Point Constants</b></font>

<p><font face="Times">The general lexical form of a floating point number is:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=125></td>

<td><font face="Courier" size="-1"><b>0</b><i>flt_char</i>[{<b>+</b></font><font size="-1"><img src="../../Images/c2D.gif" width=7 height=4></font><font face="Courier" size="-1">}]<i>dec</i>...[<b>.</b>][<i>dec</i>...][<i>exp_char</i>[{<b>+</b></font><font size="-1"><img src="../../Images/c2D.gif" width=7 height=4></font><font face="Courier" size="-1">}][<i>dec</i>...]]</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">where:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=131></td>

<td nowrap><font face="Times"><i>flt_char</i></font></td>

<td><font face="Times">a required type specification character (see the following table)</font></td></tr>

<tr valign=top>

<td width=131 height=12></td></tr>

<tr valign=top>

<td width=131></td>

<td nowrap><font face="Times">[{+-}]</font></td>

<td><font face="Times">the optional occurrence of either + or</font> <img src="../../Images/c2D-1.gif" width=8 height=4><font face="Times">, but not both</font></td></tr>

<tr valign=top>

<td width=131 height=12></td></tr>

<tr valign=top>

<td width=131></td>

<td nowrap><img src="../../Images/sp.gif" width=3 height=1><font face="Times"><i>dec</i>...</font></td>

<td><font face="Times">a required sequence of 1 or more decimal digits</font></td></tr>

<tr valign=top>

<td width=131 height=12></td></tr>

<tr valign=top>

<td width=131></td>

<td nowrap><font face="Times">[.]</font></td>

<td><font face="Times">a single optional&nbsp; &quot;.&quot;</font></td></tr>

<tr valign=top>

<td width=131 height=12></td></tr>

<tr valign=top>

<td width=131></td>

<td nowrap><font face="Times">[<i>dec</i>...]</font></td>

<td><font face="Times">an optional sequence of 1 or more decimal digits</font></td></tr>

<tr valign=top>

<td width=131 height=12></td></tr>

<tr valign=top>

<td width=131></td>

<td nowrap><font face="Times">[<i>exp_char</i>]</font></td>

<td><font face="Times">an optional exponent delimiter character (see the following table)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">The type specification character, <i>flt_char</i>, specifies the type and representation of the constructed number; the set of legal type specification characters with the processor architecture, as shown here:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Helvetica"><b>Architecture</b></font></td>

<td nowrap><font face="Helvetica"><i>flt_char</i></font></td>

<td><font face="Helvetica"><i>exp_char</i></font></td></tr>

<tr valign=top>

<td width=124 height=4></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><img src="../../Images/sp.gif" width=7 height=1><font face="Times">M68000</font></td>

<td nowrap><font face="Times">{rRsSfFdDxXeEpP}</font></td>

<td><img src="../../Images/sp.gif" width=12 height=1><font face="Times">{eE}</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><img src="../../Images/sp.gif" width=7 height=1><font face="Times">M88000</font></td>

<td nowrap><font face="Times">{rRdDfF}</font></td>

<td><img src="../../Images/sp.gif" width=12 height=1><font face="Times">{eE}</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><img src="../../Images/sp.gif" width=7 height=1><font face="Times">M98000</font></td>

<td nowrap><font face="Times">{dDfF}</font></td>

<td><img src="../../Images/sp.gif" width=12 height=1><font face="Times">{eE}</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><img src="../../Images/sp.gif" width=7 height=1><font face="Times">i386</font></td>

<td nowrap><font face="Times">{fFdDxX}</font></td>

<td><img src="../../Images/sp.gif" width=12 height=1><font face="Times">{eE}</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><img src="../../Images/sp.gif" width=7 height=1><font face="Times">i860</font></td>

<td nowrap><font face="Times">{rRsSfFdDxXpP}</font></td>

<td><img src="../../Images/sp.gif" width=12 height=1><font face="Times">{eE}</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><img src="../../Images/sp.gif" width=7 height=1><font face="Times">hppa</font></td>

<td nowrap><font face="Times">{dDfF}</font></td>

<td><img src="../../Images/sp.gif" width=12 height=1><font face="Times">{eE}</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=125></td>

<td><font face="Times">On the M68000 architecture, <b>0b</b> can be used to specify an immediate hexadecimal bit pattern.&nbsp; For example:</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">fmoves #0b7f80001,fp0</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">moves the signaling Nan into the register <b>fp0</b> and</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">fmoves #0x7f80001,fp0</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">moves the decimal number 2,139,095,041 (0x7f80001 in hexadecimal) into the register <b>fp0</b>.</font>

<p><font face="Times">When floating-point constants are used as arguments to the <b>.single</b> and <b>.double</b> directives, the type specification character isn't actually used in determining the type of the number.&nbsp; For convenience, <b>r</b> or <b>R</b> can be used consistently to specify all types of floating-point numbers.</font>

<p><font face="Times">Collectively, all floating point numbers, together with quad and octal scalars, are called Bignums.&nbsp; When <b>as</b> requires a Bignum, a 32-bit scalar quantity may also be used.</font>

<p><font face="Times">Floating point constants are internally represented as flonums, in a machine-independent, precision-independent floating point format (for accurate cross-assembly).</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Assembly Location Counter</b></font>

<p><font face="Times">A single period ( <b>.</b> ), usually referred to as &quot;dot,&quot; is used to represent the current location counter.&nbsp; There is no way to explicitly reference any other location counters besides the current location counter.</font>

<p><font face="Times">Even if it occurs in the operand field of a statement, dot refers to the address of the first byte of that statement; the value of dot isn't updated until the next machine instruction or assembler directive.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+2"><b>Expression Syntax</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Expressions are combinations of operand terms (which can be numeric constants or symbolic identifiers ) and operators.&nbsp; This section lists the available operators, and describes the rules for combining these operators with operands in order to produce legal expressions.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Operators</b></font>

<p><font face="Times">Identifiers and numeric constants can be combined, through the use of operators, to form expressions.&nbsp; Each operator operates on 32-bit values.&nbsp; If the value of a term occupies 8 or 16 bits, it is sign extended to a 32-bit value.</font>

<p><font face="Times">The assembler provides both unary and binary operators.&nbsp; A unary operator precedes its operand; a binary operator follows its first operand, and precedes its second operand.&nbsp; For example:</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">!var&nbsp;&nbsp;&nbsp; | unary expression</font><br>
<img src="../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">var+5&nbsp;&nbsp; | binary expression</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">The assembler recognizes the following unary operators:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><img src="../../Images/c2D-1.gif" width=8 height=4></td>

<td><font face="Times"><i>Unary minus</i>:&nbsp; the result is the two's complement of the operand</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>~</b></font></td>

<td><font face="Times"><i>One's complement</i>:&nbsp; the result is the one's complement of the operand</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>!</b></font></td>

<td><font face="Times"><i>Logical negation</i>:&nbsp; the result is 0 if the operand is non-zero, and 1 if the operand is 0</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">The assembler recognizes the following binary operators:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>+</b></font></td>

<td><font face="Times"><i>Addition</i>:&nbsp; the result is the arithmetic addition of the two operands</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><img src="../../Images/c2D-1.gif" width=8 height=4></td>

<td><font face="Times"><i>Subtraction</i>:&nbsp; the result is the arithmetic subtraction of the two operands</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>*</b></font></td>

<td><font face="Times"><i>Multiplication</i>:&nbsp; the result is the arithmetic multiplication of the two operands</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>/</b></font></td>

<td><font face="Times"><i>Division</i>:&nbsp; the result is the arithmetic division of the two operands; this is integer division, which truncates towards zero</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>%</b></font></td>

<td><font face="Times"><i>Modulus</i>:&nbsp; the result is the remainder that's produced when the first operand is divided by the second (this operator applies only to integral operands)</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>&gt;&gt;</b></font></td>

<td><font face="Times"><i>Right shift</i>:&nbsp; the result is the value of the first operand shifted to the right, where the second operand specifies the number of bit positions by which the first operand is to be shifted (this operator applies only to integral operands). This is always an arithmetic shift since all operators operate on signed operands.</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>&lt;&lt;</b></font></td>

<td><font face="Times"><i>Left shift</i>:&nbsp; the result is the value of the first operand shifted to the left, where the second operand specifies the number of bit positions by which the first operand is to be shifted (this operator applies only to integral operands)</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>&amp;</b></font></td>

<td><font face="Times"><i>Bitwise AND</i>:&nbsp; the result is the bitwise AND function of the two operands (this operator applies only to integral operands)</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>^</b></font></td>

<td><font face="Times"><i>Bitwise exclusive OR</i>:&nbsp; the result is the bitwise exclusive OR function of the two operands (this operator applies only to integral operands)</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>|</b></font></td>

<td><font face="Times"><i>Bitwise inclusive OR</i>:&nbsp; the result is the bitwise inclusive OR function of the two operands (this operator applies only to integral operands); this operator can't be used on the M68000 microprocessor family, because the `|' character is used there to mark the start of a comment</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>&lt;</b></font></td>

<td><font face="Times"><i>Less than</i>:&nbsp; the result is 1 if the first operand is less than the second operand, and 0 otherwise</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>&gt;</b></font></td>

<td><font face="Times"><i>Greater than</i>:&nbsp; the result is 1 if the first operand is greater than the second operand, and 0 otherwise</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>&lt;=</b></font></td>

<td><font face="Times"><i>Less than or equal</i>:&nbsp; the result is 1 if the first operand is less than or equal to the second operand, and 0 otherwise</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>&gt;=</b></font></td>

<td><font face="Times"><i>Greater than or equal</i>:&nbsp; the result is 1 if the first operand is greater than or equal to the second operand, and 0 otherwise</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>==</b></font></td>

<td><font face="Times"><i>Equal</i>:&nbsp; the result is 1 if the two operands are equal, and 0 otherwise</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>!=</b></font></td>

<td><font face="Times"><i>Not equal</i> (same as <b>&lt;&gt;</b>):&nbsp; the result is 0 if the two operands are equal, and 1 otherwise</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+1"><b>Terms</b></font>

<p><font face="Times">A term is a part of an expression; it may be:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">An identifier.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">A numeric constant (its 32-bit value is used).&nbsp; The assembly location counter ( . ), for example, is a valid numeric constant.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">An expression or term enclosed in parentheses.&nbsp; Any quantity enclosed in parentheses is evaluated before the rest of the expression.&nbsp; This can be used to alter the normal evaluation of expressions--for example, to differentiate between <b>x * y + z </b>and <b>x * (y + z)</b> or to apply a unary operator to an entire expression--for example,</font> <img src="../../Images/c2D-1.gif" width=8 height=4><font face="Times"><b>(x * y + z)</b>.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">A term preceded by a unary operator (for example, <b>~var</b>).&nbsp; Multiple unary operators may be used in a term (for example, <b>!~var</b>).</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+1"><b>Expressions</b></font>

<p><font face="Times">Expressions are combinations of terms joined together by binary operators.&nbsp; An expression is always evaluated to a 32-bit value, but in some situations a different value will be used:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">If the operand requires a one-byte value (a <b>.byte</b> directive, for example), the low-order eight bits of the expression are used.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">If the operand requires a 16-bit value (a <b>.short</b> directive or a <b>movem</b> instruction, for example), the low-order 16 bits of the expression are used.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">All expressions are evaluated using the same operator precedence rules that are used by the&nbsp; C programming language.</font>

<p><font face="Times">When an expression is evaluated its value is absolute, relocatable, or external, as described below.</font>

<p><br><br>

<p><font face="Helvetica" size="+1"><b>Absolute Expressions</b></font>

<p><font face="Times">An expression is absolute if its value is fixed.&nbsp; The following, for example, are absolute:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">An expression whose terms are constants</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">An identifier whose value is a constant via a direct assignment statement</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">A relocatable expression minus a relocatable term, if both items belong to the same program section.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+1"><b>Relocatable Expressions</b></font>

<p><font face="Times">An expression (or term) is relocatable if its value is fixed relative to a base address, but will have an offset value when it is linked or loaded into memory.&nbsp; For example, all labels of a program defined in relocatable sections are relocatable.</font>

<p><font face="Times">Expressions that contain relocatable terms must only add or subtract constants to their value.&nbsp; For example, if the identifiers <b>var </b>and <b>dat</b> were defined in a relocatable section of the program, then the following examples demonstrate the use of relocatable expressions:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>var</b></font></td>

<td><font face="Times">is a simple relocatable term.&nbsp; Its value is an offset from the base address of the current control section.</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>var+5</b></font></td>

<td><font face="Times">is a simple relocatable expression.&nbsp; Since the value of <b>var</b> is an offset from the base address of the current control section, adding a constant to it doesn't change its relocatable status.</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>var*2</b></font></td>

<td><font face="Times">is not relocatable.&nbsp; Multiplying a relocatable term by a constant invalidates the relocatable status of the expression.</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>2</b></font><img src="../../Images/c2D-1.gif" width=8 height=4><font face="Times"><b>var</b></font></td>

<td><font face="Times">is not relocatable.&nbsp; The expression can't be linked by adding <b>var</b>'s offset to it.</font></td></tr>

<tr valign=top>

<td width=105 height=14></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><b>var+dat+5</b></font></td>

<td><font face="Times">is a relocatable expression if both <b>var</b> and <b>dat</b> are both defined in some section--that is, if neither is undefined. This form of relocatable expression is used for position-independent code and is supported in NEXTSTEP Release 3.3 and later.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+1"><b>External Expressions</b></font>

<p><font face="Times">An expression is <i>external</i> (or <i>global</i>) if it contains an external identifier not defined in the current program.&nbsp; In general, the same restrictions on expressions containing relocatable identifiers apply to expressions containing external identifiers.&nbsp; An exception is that the expression <b>var</b></font><img src="../../Images/c2D-1.gif" width=8 height=4><font face="Times"><b>dat</b> is incorrect when both <b>var</b> and <b>dat</b> are external identifiers (that is, you cannot subtract two external relocatable expressions).&nbsp; Also, you cannot multiply or divide any relocatable expression.</font></td></tr>

</table>



<p><br><br>

</body>
</html>
