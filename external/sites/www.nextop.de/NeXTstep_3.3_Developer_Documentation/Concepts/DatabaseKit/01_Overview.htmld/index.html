<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/Concepts/DatabaseKit/01_Overview.rtfd -->
<!-- Date: Sun Jun 28 19:35:40 1998 -->
<head>
<title>01_Overview</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Release 3.3 Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+3" color="#FF00FF"><b>1</b></font></td></tr>

</table>

<p><br><br>

<p><font face="Times" size="+3"><i>Overview</i></font>

<p><br><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sophisticated database systems allow accurate and secure data storage and efficient data retrieval.&nbsp; These systems can be extraordinarily complicated; they hold enormous amounts of data and require database administrators to maintain them.&nbsp; But however complex, most database systems can be divided into two parts:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times"><i>A data storage and retrieval system</i>.&nbsp; This is the <i>database server</i>, the part of the database system that actually stores data and knows how to find particular items.&nbsp; Typically, a database server is a program that runs on a dedicated computer; database users connect to the server over a network.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times"><i>A front-end application.</i>&nbsp; The user must be able to access and manipulate the data that's stored in the server.&nbsp; This is done through a user interface, or &quot;front-end,&quot; application that selectively and intelligently displays data.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">The Database Kit is a set of tools and resources that helps you can create front-end applications that work with any NEXTSTEP-compliant database server.&nbsp; These tools don't help you build a complete database system from the ground up--the tasks of data storage and retrieval are left to a database server supplied by a third party.&nbsp; Rather, the Database Kit lets you design front-end applications that are easy to build and maintain, that can communicate with other applications, and that draw upon the standard interface features that are common to all NEXTSTEP applications.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+1"><b>The Database Kit, Servers, and Data</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Most commercially-available database applications are tied to particular servers.&nbsp; This marriage has two notable consequences. The more obvious is that the application will only work with its designated server.&nbsp; The other consequence--one that can be characterized as a feature of the single-server approach--is that the data operations are performed directly on the data in the server.</font>

<p><font face="Times">The Database Kit, on the other hand, uses a <i>buffer-editor</i> approach to accessing data on a server.&nbsp; Rather than act directly on the server's data, it provides every application with a buffers--specifically, two-dimensional tables--into which server data is copied, or <i>fetched</i>.&nbsp; The client (in other words, your application) is allowed to edit the data in these tables.&nbsp; When the client wants to publicize its modifications, it updates the server by sending it the data from the tables it has edited.&nbsp; The server replaces its original contents with the data that has been sent to it by the client.</font>

<p><font face="Times">There are a number of advantages to this scheme.&nbsp; Foremost of these is that while the data resides in your application, you can treat it like any other data.&nbsp; That the data has been fetched from a particular server--or that it has been gotten from a database server at all--is of no consequence.&nbsp; Also, because the Database Kit holds data apart from the server, your application can achieve a degree of server-independence.</font>

<p><font face="Times">There are some concerns that arise from the buffer-editor approach.&nbsp; When multiple users have buffered access to the same data, maintaining the integrity of the data can be a problem:&nbsp; Between the time that you fetch data and the time that you update the server, some other client application may have fetched, altered, and saved the same set of data.&nbsp; In recognition of this possibility, the Database Kit has a built-in set of integrity checks that ensure that your application won't clobber someone else's changes.&nbsp; (Actually, the gap during which integrity is threatened isn't unique to a buffer-editor application--it's simply more pronounced.)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+1"><b>Database Application Components</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">To create an application with the Database Kit, you need, in addition to a database server, four things:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times"><i>A database server adaptor.</i>&nbsp; An adaptor is a mechanism that connects your application to a particular server.&nbsp; For each server that you use, you need a separate adaptor.&nbsp; The Database Kit provides adaptors for the Oracle and Sybase servers; adaptors for other servers are provided by third-party companies.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times"><i>A database model</i>.&nbsp; A database model describes the organization of the server's data, and, in so doing, provides a mapping between the server's data structures and Database Kit objects.&nbsp; Models can be built graphically through the DBModeler application.&nbsp; The Database Kit also publishes an open (ASCII) model file format, allowing you to build database models with a text editor, or through a your own model-building program.&nbsp; Every model refers to a particular adaptor--a model is said to &quot;use&quot; an adaptor.&nbsp; Example model files that use the Oracle and Sybase adaptors are provided by the Database Kit.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times"><i>The Database Kit palette</i>.&nbsp; The Database Kit palette, presented by Interface Builder, gives you access to the user interface objects that are provided by the Kit.&nbsp; But the palette is more than simply a catalog of objects; it can read the model that you've designed, and takes care of some of the details of database application design automatically.&nbsp; Another benefit of the palette is that it understands how to connect to the server while you're designing your interface; this means that you can test your interface (in Interface Builder's Test mode) by filling it with the actual data that's fetched from the server.</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times"><i>The Database Kit library of classes and protocols</i>.&nbsp; The classes and protocols provided by the Database Kit let you programmatically manipulate data as it passes between the server and the user interface.&nbsp; Although simple applications can be created entirely in Interface Builder, any sophisticated application will require some use of the Database Kit classes in your own code.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Figure 1 illustrates the layout of these components as they are used by your application.&nbsp; The light grey box contains the pieces that are provided by or can be created with the Database Kit; the dark grey box contains third-party offerings.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=107></td>

<td><img src="F0.gif" width=169 height=248></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>Figure 1</b></font><font face="Times">.&nbsp; Database Application Ingredients</font>

<p><br><br>

<p><font face="Times">The role of the adaptor is described in the following section.&nbsp; The rest of the chapters in this manual examine the other parts of a Database Kit application.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+1"><b>Adaptors</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">A database server adaptor is a mechanism through which your application communicates with a database server.&nbsp; For each server that you use, you need a separate adaptor; the adaptor produces server-specific commands through which your application receives and sends data.&nbsp; NEXTSTEP provides adaptors for the Sybase and Oracle servers.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>What an Adaptor Does</b></font>

<p><font face="Times">An adaptor's main duties fall into three areas:&nbsp; connecting to the server, communicating with the server, and converting data formats.</font>

<p><br><br><br>

<p><font face="Helvetica"><b>Connecting to the Server</b></font>

<p><font face="Times">The adaptor creates and maintains the connection between your application and the server.&nbsp; When it creates the connection, the adaptor presents a login panel that queries the user for information such as the name of the server, the machine on which it's running, a password, and so on.&nbsp; The login panel for the Oracle adaptor is shown below.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=107></td>

<td><img src="F1.gif" width=394 height=264></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>Figure 2</b></font><font face="Times">.&nbsp; Oracle Login Panel</font>

<p><br><br>

<p><font face="Times">The login panel for a particular adaptor should appear only once while your application is running; however, it may appear a number of times as you're using the tools that help you design your application.&nbsp; In particular, DBModeler and Interface Builder may provoke the login panel at various times.</font>

<p><br><br><br>

<p><font face="Helvetica"><b>Communicating with the Server</b></font>

<p><font face="Times">A database's data is accessed and modified through commands that are defined by the server.&nbsp; However, the Database Kit doesn't necessarily &quot;speak&quot; the server's language--at least not directly.&nbsp; The adaptor is responsible for translating between the server's commands and the methods provided by the Database Kit.&nbsp; For example, when your application sends a message that fetches data from the server, this message finds its way to the adaptor which must issue a command that the server understands.</font>

<p><br><br><br>

<p><font face="Helvetica"><b>Data Format Conversion</b></font>

<p><font face="Times">Each database server represents and stores data in its own data formats.&nbsp; The Database Kit represents each item of data as one of the Objective C data types, and stores this data in objects.&nbsp; The responsibility for translating data from a server's native formats to Objective C data types falls to the adaptor.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>What an Adaptor Doesn't Do</b></font>

<p><font face="Times">An adaptor isn't a database administrator.&nbsp; Database administration programs add users or accounts to the system, verify passwords, distribute data storage across computers, and so on; the adaptor isn't required to do any of this.</font>

<p><font face="Times">In general, administration tools (programs) are provided with each database server.&nbsp; You should depend on these for all administration operations.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Adaptor Files</b></font>

<p><font face="Times">An adaptor is represented as a file that has the extension &quot;.adaptor&quot;.&nbsp; Adaptor files are stored in the <b>Adaptors</b> subdirectory of a library directory (<b>~/Library</b>, <b>/LocalLibrary</b>, or <b>/NextLibrary</b>).</font>

<p><font face="Times">The adaptor for the Oracle server is named <b>OracleAdaptor.adaptor</b>; that for Sybase is <b>SybaseAdaptor.adaptor</b>.&nbsp; Both are located in <b>/NextLibrary/Adaptors</b>.</font>

<p><font face="Times">Every application needs to incorporate at least one adaptor file.&nbsp; However, this incorporation usually isn't direct.&nbsp; Instead, you drag one or more database model files into your application through Project Builder.&nbsp; Each model refers to a particular adaptor; thus are adaptors incorporated into your application.&nbsp; The details of this scheme are explained through the course of this manual.</font>

<p><br><br><br>

<p><font face="Helvetica"><b>Adaptors for Other Servers</b></font>

<p><font face="Times">Creating adaptors isn't publicly supported; see the <i>Third-Party Products for NEXTSTEP</i> catalog for a list of adaptors that are provided by other companies.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Affecting an Adaptor</b></font>

<p><font face="Times">The Database Kit provides methods that let you programmatically retrieve the object that represents the adaptor that your application is using.&nbsp; You can send messages directly to this adaptor object if the company that supplied the adaptor publishes a programming interface for it.</font>

<p><font face="Times">The Database Kit doesn't publish the interfaces for the adaptors that it provides.&nbsp; However, it does provide some default parameters that a user can set to alter certain aspects of the Oracle and Sybase adaptors.&nbsp; These parameters are described in Appendix A, &quot;Adaptor Default Parameters.<i>&quot;</i></font></td></tr>

</table>



<p>

</body>
</html>
