<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/Concepts/Performance/H_Checklist.rtf -->
<!-- Date: Sun Jun 28 19:37:04 1998 -->
<head>
<title>H_Checklist</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Release 3.3 Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+2"><b>Application Performance Checklist</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Times">The following is a brief summary of performance issues that you should check for your application.&nbsp; Some of them are trivial to check and correct (e.g., making your panels be one-shot in IB), other take more work (e.g., scatter loading, optimizing custom drawing routines).&nbsp; For more information about any of these items, look up bold words in Librarian, which can be accessed via the Services menu.</font>

<p><br><br>

<p><font face="Helvetica" size="+1"><b>Drawing Performance:</b></font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">Best drawing techniques used (<b>xyshow</b>, <b>userpaths</b>, <b>NXRectFillListWithGrays</b>(),...).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">All windows are sent <b>useOptimizedDrawing</b>: unless this causes incorrect display.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">Efficient PostScript generated by App's custom Views (check using <b>showps</b> around <b>drawSelf</b>:: in gdb).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times"><b>setwindowtype</b> operator used where appropriate to give better interactive drawing feedback.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No redundant drawing. (Run app with <b>-NXAllWindowsRetained</b>.&nbsp; Solve using -<b>disableDisplay</b>, -<b>displayIfNeeded</b>).</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica" size="+1"><b>App Memory Usage:</b></font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">All data structures optimized for size, fragmentation and locality.&nbsp; Look for waste by examining your heap nodes with <b>MallocDebug</b>.&nbsp; Consider using <b>zone allocation</b> for documents and panels.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">Optimized text and data working set for common operations.&nbsp; App is scatter loaded with <b>link optimization </b>techniques.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No leaks show up when using &#34;Leaks&#34; feature of <b>MallocDebug</b>.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times"><b>setStringValueNoCopy</b>: used in place of setStringValue: where appropriate.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No leaks of kernel objects (ports, open files, vm regions).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">Copy-on-write memory used where possible (memory mapped files, out-of-line data in messages, <b>vm_copy</b>() for large regions).</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica" size="+1"><b>Window Server Memory Usage:</b></font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">All windows are deferred (set in Window attribute inspector in Interface Builder).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times"><b>OneShot</b> windows for almost all windows (set in Window attribute inspector in Interface Builder).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No windows with alpha channel on screen (check with <b>Winfo</b> app).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No unnecessary window depth promotion.&nbsp; <b>setpattern</b> operator used to draw 1/6, 1/2 and 5/6 grays.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No redundant or unused off-screen bitmaps (run app with <b>-NXShowAllWindows</b>).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No unarchived, but unused windows.&nbsp; (run app with <b>-NXShowAllWindows.</b> Create them lazily by moving to separate Interface Builder file.)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica" size="+1"><b>Interface Builder:</b></font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">One window per IB module.&nbsp; Info panel removed from main interface module.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No nib sections/files loaded with names, including the one loaded from main() (must use <b>loadNibSection:owner:withNames:</b><i>NO</i>).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">All images added to project instead of in individual IB files.&nbsp; (images load faster, allows sharing of images between .nibs).</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">No extra sounds, images or scratch objects in nib files.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">Pre-2.0-style set* methods for setting outlets removed.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica" size="+1"><b>Images:</b></font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">NXImage compression used where applicable.</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">__</font></td>

<td><font face="Times">Don't composite with NX_COPY, use NX_SOVER (doesn't allocate alpha channel).</font></td></tr>

</table>



<p>

</body>
</html>
