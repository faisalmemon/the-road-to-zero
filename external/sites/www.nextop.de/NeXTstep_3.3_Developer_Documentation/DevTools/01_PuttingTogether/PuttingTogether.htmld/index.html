<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/DevTools/01_PuttingTogether/PuttingTogether.rtf -->
<!-- Date: Sun Jun 28 19:50:32 1998 -->
<head>
<title>PuttingTogether</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+3" color="#FF00FF"><b>1</b></font></td></tr>

</table>

<p><br><br>

<p><font face="Times" size="+3"><i>Putting Together a NEXTSTEP Application</i></font>

<p><br><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">There are a number of ways you might draw the line between programs and applications.&nbsp; Programs are simple; applications are complicated.&nbsp; Programs are small; applications are big.&nbsp; Programs run from a command line; applications have a graphic user interface.&nbsp; A program has just a few source files; an application may have lots and lots.</font>

<p><font face="Times">No matter how you draw the line, as you move from writing programs to developing applications, you need to focus increasing attention on project management.&nbsp; If the application is the end result, the project is how you get there.&nbsp; The project can be thought of as both the steps you go through and the source files you use to construct an application.</font>

<p><font face="Times">A complete project management strategy includes strategies for creating, organizing, and maintaining source files, building the application from its sources, running and debugging the application, revising the source files to fix bugs, and installing the finished application--or preparing it for others to install.</font>

<p><font face="Times">In NEXTSTEP, the hub of application development is Project Builder--a project manager that is itself a NEXTSTEP application.&nbsp; Project Builder isn't the only tool you use to manage your project and develop your application.&nbsp; Instead, it's like a control center from which you switch from one application development task to another, and from one tool to another.</font>

<p><font face="Times">This chapter takes a brief look at the components of a NEXTSTEP application.&nbsp; It explains the path that Project Builder and other NEXTSTEP tools offer you for going from a set of source files to a working application.&nbsp; It looks at the application development process in terms of resources and tasks that you, the developer, must provide and those that Project Builder and other NEXTSTEP tools provide for you.&nbsp; Subsequent chapters present detailed reference for each of the tools introduced here. The last four chapters present step-by-step tutorials that offer you a chance to explore the NEXTSTEP development process for yourself.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=6></td>

<td><font face="Helvetica" size="+2"><b>The Application Development Process</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">The process of developing an application can be divided into three general tasks:&nbsp; designing, coding, and debugging.&nbsp; These tasks are never performed entirely sequentially.&nbsp; You may decide after some coding that you need to change some aspect of design.&nbsp; Debugging always reveals code that needs rewriting, and occasionally exposes design flaws.&nbsp; When you develop an application with NEXTSTEP, you can move easily among these tasks.</font>

<p><font face="Times">The following sections enumerate the components of the NEXTSTEP application development process, describing those portions for which you're responsible and those which Project Builder, Interface Builder, and other NEXTSTEP development tools handle for you.&nbsp; For more information on Project Builder, see Chapter 2; for more on Interface Builder, see Chapter 3.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Design Your Application</b></font>

<p><font face="Times">Before you write any code, you should spend some time thinking about design.&nbsp; Some components of application design to consider are functionality, program structure, and user interface.&nbsp; You should think about the goals of your application and the techniques you might use to meet those goals.&nbsp; You should determine the unique classes that your application will require and think about how to divide your program into separate modules.&nbsp; You should sketch out user interface ideas, and use Interface Builder to prototype and test those ideas.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Create a Project</b></font>

<p><font face="Times">With the basic design determined, you can use Project Builder to start a new project.</font>

<p><font face="Times">In NEXTSTEP, a project is physically represented by a directory under the control of Project Builder; all of the components of the project must reside in this directory.&nbsp; When you start a new project, Project Builder automatically generates the project directory and a set of source files common to all applications, including a main file, a nib file, a makefile, and others.&nbsp; The main file includes the standard <b>main()</b> function required in all C programs.&nbsp; The nib file is used by Interface Builder to archive the application's user interface (nib is an acronym for &quot;NEXTSTEP Interface Builder&quot;).&nbsp; The makefile is updated by Project Builder to keep track of all the source files from which your application is built.&nbsp; Another file in the project directory, <b>PB.project</b>, is used by Project Builder itself to keep track of various project components.</font>

<p><font face="Times">Throughout the life of the project, you will add to and update the files in the project directory.&nbsp; NEXTSTEP development tools, including Project Builder and Interface Builder may add to and maintain other files in this directory as your project grows.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Write Code for Your Application</b></font>

<p><font face="Times">To establish the unique workings of your application, you create class interface and implementation files that include code for the appropriate methods and instance variables.&nbsp; Interface Builder can help in this process by creating skeletal code for a class if you list the methods in the Inspector panel.&nbsp; If you create the source files first, Interface Builder can parse them to learn about their <b>id</b> instance variables and action methods.</font>

<p><font face="Times">Project Builder lets you add source files to your project at any time.&nbsp; You can create other source files using standard C, Objective C, and C++ code.&nbsp; Project Builder can also know about and manage other files, such as <b>pswrap</b> files containing PostScript code within C function wrappers.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Connect Objects with Interface Builder</b></font>

<p><font face="Times">In Interface Builder, you can interconnect objects in your application.&nbsp; For example, you can establish the target and action for a control in the interface.</font>

<p><font face="Times">Interface Builder puts information about the classes used by your application in the nib file; included are Application Kit classes and other classes provided by NEXTSTEP, as well as the custom classes you define.&nbsp; The nib file contains all the information required to generate the objects in your application at run time:&nbsp; specifications for objects, connections between objects, icons, sounds, and other features.&nbsp; A NEXTSTEP application can have one or more nib files for each application you create.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Add Other Resource Files</b></font>

<p><font face="Times">Resource files are frequently used to customize the user interface for your application.&nbsp; Project Builder allows you to add icons for both your application and its documents.&nbsp; Interface Builder allows you to add icons and sounds for the buttons in your user interface.&nbsp; You can put other images in your application using Application Kit classes and PostScript code.&nbsp; You can add other sounds using Sound Kit</font><font size="-2"><sup><sup>TM</sup></sup></font><font face="Times">methods.&nbsp; Project Builder provides a drag-and-drop interface for adding sounds, images, and other resource files to your project, including unique icons for your application and its document files.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Choose Document Extensions for Your Application</b></font>

<p><font face="Times">If your application reads and writes documents, you'll need to take measures to see to it that the Workspace Manager</font><font size="-2"><sup><sup>TM</sup></sup></font><font face="Times">knows about and can work with those files.&nbsp; First, you need to write file management code that saves the documents with a unique extension. You also need to use the Project Builder application's Attributes display to specify document extensions for an application.&nbsp; Project Builder adds these extensions to the appropriate file to assure that your application is invoked by Workspace Manager when the user double-clicks a file with the specified extensions.</font>

<p><font face="Times">If you plan to distribute your software, or want to avoid future collisions with file extensions used by other applications, register the document file extensions with the NeXT Extension Registry.&nbsp; A list of currently registered names and the address for the extension registry is included in the <i>User Interface Guidelines</i>.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Compile Your Program</b></font>

<p><font face="Times">As you add source files to your application, Project Builder lists them in the project makefile.&nbsp; When you use its Build command, Project Builder starts the <b>make</b> program which in turn reads the project makefile and generates the executable file from the sources.&nbsp; As <b>make</b> runs, it issues system commands to compile and link your application's source files into an executable file. The project Makefile, generated by Project Builder, provides the information <b>make</b> needs to do this job.&nbsp; The warnings generated by the compiler and link editor provide information to help you locate and fix bugs detected at compile time.</font>

<p><font face="Times">In building your project, <b>make</b> keeps track of source updates.&nbsp; Each time you run <b>make</b>, only the source files that have been updated since the last <b>make</b> are regenerated; the rest are used as is.&nbsp; This minimizes the time required to generate your executable file.</font>

<p><font face="Times">Once you start building your application, Project Builder provides an interactive interface to Edit for locating source code problems detected by the compiler and link editor.&nbsp; Anytime the compiler encounters an error, Edit can locate the code with a single click--you can then edit out the problem and begin compiling again.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Debug Your Program</b></font>

<p><font face="Times">After you successfully compile your program, you're ready to try running it.&nbsp; The easiest way to do so is by choosing Debug in the Project Builder application's Builder display.&nbsp; This selection builds your application (if necessary), then starts GDB in a Terminal shell.&nbsp; You can then run your application with GDB in a couple of ways:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">Use Edit's Gdb panel to step through your application while looking at the code being executed.&nbsp; The Gdb panel provides an easy-to-use, interactive interface that integrates GDB and Edit; it's described in Chapter 2, &quot;The Project Builder Application.&quot;</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">Run the program from the Terminal shell by issuing GDB commands.&nbsp; The GDB debugger and its commands are described in Chapter 13, &quot;The GNU Source-Level Debugger.&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Along with the compiler and GDB, the NEXTSTEP development environment includes several applications and features that can help you trace your program and pinpoint errors.&nbsp; Other developer applications--including MallocDebug (Chapter 8), ProcessMonitor (Chapter 9), and Yap (Chapter 10)--provide additional insights into the workings of your program. ProcessMonitor lets you examine various characteristics of any process's activities:&nbsp; memory use, PostScript graphic states, the run-time environment, and so on.&nbsp; MallocDebug measures the dynamic memory use of an application.&nbsp; Yap lets you enter, edit, and execute PostScript code on the fly and allows you to read and write text files so the code can be used elsewhere.</font>

<p><font face="Times">Two tools are available to track off-screen drawing, which may affect what you see--or don't see--on-screen.&nbsp; The <b>NXShowPS</b> argument writes all PostScript code and values from the PostScript interpreter to the standard error stream.&nbsp; The <b>NXShowAllWindows</b> argument displays all of an application's windows, including those generated for off-screen imaging. Both of these are command-line arguments.&nbsp; To use them, start your program from a Terminal shell.&nbsp; On the command line, enter the program name followed by the parameter.&nbsp; For example</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">/me/MyApps/NewApp/NewApp.app -NXShowAllWindows</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">starts the application <b>NewApp.app</b>, displaying all its windows as it runs.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Add Help to Your Application</b></font>

<p><font face="Times">Using Project Builder, Interface Builder, and Edit, you can create context sensitive help for your application.&nbsp; The standard help template provided by Interface Builder includes general information on the NEXTSTEP environment.&nbsp; You can add to this template to include application-specific help, and you can create links between the controls in your application and the help system to provide the user with context-specific assistance.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Translate Your User Interface</b></font>

<p><font face="Times">When the application is complete and help is available, you can create alternate versions with translated text for windows, panels, menu items, and buttons, as well as any help information you've added. NEXTSTEP application programming interface (API) provides ways of accessing bundles in your application containing the text and user interface in various languages you wish to support.&nbsp; &quot;The Project Builder Application,&quot; Chapter 2, provides information on how to make a project localizable.</font>

<p><br><br><br>

<p><font face="Helvetica" size="+1"><b>Make Your Application Available to Users</b></font>

<p><font face="Times">Once an application is debugged, you can install it in an application directory using Project Builder.&nbsp; Project Builder lets you determine which directory to install the application in and provides a way to automatically install the application when you build it.</font>

<p><font face="Times">When the user double-clicks a document file, the Workspace Manager has to locate and start the executable file for that application.&nbsp; Workspace Manager looks for the executable file in a systematic sequence of directory paths.&nbsp; This search sequence is contained in an environmental variable <b>path</b>.&nbsp; You can place an application in any of the directories specified in <b>path</b>.</font>

<p><font face="Times">Because of the search sequence specified by <b>path</b>, you can replace an application located later in the sequence with one of the same name earlier in the sequence.&nbsp; For example, <b>$(HOME)/Apps</b> occurs before <b>/NextApps</b> in <b>path</b>; if you place an application in the directory <b>$(HOME)/Apps</b> with the same name as an application in the <b>/NextApps</b> directory, the Workspace Manager finds and starts the version in <b>$(HOME)/Apps</b> (the Apps subdirectory in your home directory).&nbsp; You should consider the path when naming and installing applications.</font>

<p><font face="Times">If your application is intended for distribution on multiple floppy disks, you should configure it so that a user can install it using the Installer application.&nbsp; Tools for doing so are documented in <b>/NextLibrary/Documentation/NextDev/Concepts/Installer.rtf</b>.</font></td></tr>

</table>



<p>

</body>
</html>
