<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/GeneralRef/07_IndexingKit/Classes/IXAttributeQuery.rtf -->
<!-- Date: Sun Jun 28 20:05:29 1998 -->
<head>
<title>IXAttributeQuery</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+2"><b>IXAttributeQuery</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Inherits From:</b></font></td>

<td><font face="Times">Object</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Declared In:</b></font></td>

<td><font face="Times">indexing/IXAttributeQuery.h</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Class Description</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">IXAttributeQuery is an interpreter for the Indexing Kit's query language.&nbsp; An IXAttributeQuery is initialized with a single query expression, which it can evaluate against a &quot;context&quot; object:&nbsp; an IXRecordManager, an IXFileRecord, or an IXAttributeParser. When it evaluates the query, it returns an IXPostingList containing the objects selected by the query expression, or <b>nil</b> if no objects were selected.&nbsp; See &quot;The Indexing Kit Query Language&quot; in the &quot;Other Features&quot; section of this chapter for more information on query evaluation.</font>

<p><font face="Times">When a query is evaluated against a context that acts as a container (for example, an IXRecordManager), the resulting IXPostingList contains the objects selected from the container by the query expression.&nbsp; When a query is evaluated against an immediate context&nbsp; (for example, an IXAttributeParser or IXFileRecord), the resulting IXPostingList contains only the context. Evaluating a query against a single object is useful when a yes/no answer is desired, especially with an IXAttributeParser loaded from a stream of text.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Variables</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">unsigned char *<b>queryString</b>;</font>

<p><font face="Times">id <b>attributeParser</b>;</font>

<p><font face="Times">id <b>queryContext</b>;</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">queryString</font></td>

<td><font face="Times">The query language expression to be evaluated.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">attributeParser</font></td>

<td><font face="Times">The IXAttributeParser used to parse portions of the query.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">queryContext</font></td>

<td><font face="Times">The object against which the query expression is evaluated.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Method Types</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Initializing</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">initQueryString:andAttributeParser:</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Accessing attributes</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">attributeNames</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">attributeParser</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Retrieving the query expression</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">queryString</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Evaluating the query</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">evaluateFor:</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>attributeNames</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(char *)<b>attributeNames</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns a newline-separated list of the attribute names found in the query string.&nbsp; This can be used to compare the attributes named in the query against those in an IXRecordManager, for example.&nbsp; The sender of this message is responsible for freeing the string returned.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>initQueryString:andAttributeParser:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>attributeNames</b> (IXRecordManager)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>attributeParser</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(IXAttributeParser *)<b>attributeParser</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the IXAttributeParser used for <b>parse()</b> operators in the query string.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>initQueryString:andAttributeParser:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>evaluateFor:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(IXPostingList *)<b>evaluateFor:</b><i>anObject</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Evaluates the query string against information in <i>anObject</i>.&nbsp; <i>anObject</i> must be an instance of IXAttributeParser, IXFileRecord, or IXRecordManager.&nbsp; Returns the results of the query in an IXPostingList, or <b>nil</b> if there is no match.&nbsp; The sender of this message is responsible for freeing both the IXPostingList and the objects it contains.</font>

<p><font face="Times">If <i>anObject</i> is an IXAttributeParser or IXFileRecord and it matches the query, it will be the only object in the IXPostingList; its handle and weight will be 0, and the IXPostingList's source will be <b>nil</b>.&nbsp; If <i>anObject</i> is an IXRecordManager that contains records that match the query, the IXPostingList will be contain postings for those records, and the IXPostingList's source will be the IXRecordManager.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>initQueryString:andAttributeParser:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>initQueryString:</b>(const char *)<i>aString</i></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=163></td>

<td><font face="Times"><b>andAttributeParser:</b>(IXAttributeParser *)<i>aParser</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Initializes the receiver, a newly allocated IXAttributeQuery, compiling <i>aString</i> as its query and using <i>aParser</i> as the IXAttributeParser for any <b>parse()</b> operators in <i>aString</i>.&nbsp; <i>aString</i> must be a legal expression in the Indexing Kit query language, as documented in &quot;The Indexing Kit Query Language.&quot;&nbsp; <i>aParser</i> may be <b>nil</b>; in this case a default instance of IXAttributeParser will be created by the IXAttributeQuery when a <b>parse()</b> operator is encountered.&nbsp; Returns <b>self</b> if <i>aString</i> is a well formed query, or <b>nil</b> if a compilation error is encountered.</font>

<p><font face="Times"><i>aParser</i> and its IXAttributeReaders should be configured in the same manner as the IXAttributeParser and IXAttributeReaders used to generate attribute values for the context.&nbsp; For example, if an IXRecordManager contains a parsed attribute named Text, then any IXAttributeQuery used to query the Text attribute of that IXRecordManager should be initialized with a parsing configuration similar to the Text attribute's parsing configuration.&nbsp; Once an IXAttributeQuery is initialized, its parser shouldn't be sent any messages until after the IXAttributeQuery is freed; the parser may be safely freed or reused at that time.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>queryString</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>attributeParser</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>evaluateFor:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setParser:forAttributeNamed:</b> (IXRecordManager)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>queryString</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(const char *)<b>queryString</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the IXAttributeQuery's query string.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>initQueryString:andAttributeParser:</b></font></td></tr>

</table>



<p>

</body>
</html>
