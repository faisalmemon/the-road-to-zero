<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/GeneralRef/07_IndexingKit/Classes/IXStoreBlock.rtf -->
<!-- Date: Sun Jun 28 20:05:46 1998 -->
<head>
<title>IXStoreBlock</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+2"><b>IXStoreBlock</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Inherits From:</b></font></td>

<td><font face="Times">Object</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Conforms To:</b></font></td>

<td><font face="Times">IXBlockAndStoreAccess</font><br>
<font face="Times">NXReference</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Declared In:</b></font></td>

<td><font face="Times">store/IXStoreBlock.h</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Class Description</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">An IXStoreBlock manages a single block within an IXStore, supporting access methods similar to those of IXStore and permitting multiple references to the same block.&nbsp; It also implements methods for archiving and unarchiving an object in its block of storage.&nbsp; You can use this class as a convenient means of manipulating blocks of storage without needing to know the <b>id </b>of the associated IXStore, and for storing NEXTSTEP objects in an IXStore.</font>

<p><font face="Times">This class is intended primarily as a means of associating a name with a block in an IXStoreDirectory.&nbsp; To associate names with large numbers of nonobject values, use an IXBTree.&nbsp; To archive large numbers of objects, use IXRecordManager.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Variables</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Times">IXStore *<b>store</b>;</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">unsigned int <b>handle</b>;</font>

<p><font face="Times">unsigned int <b>blockSize</b>;</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">store</font></td>

<td><font face="Times">The IXStore that the block resides in.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">handle</font></td>

<td><font face="Times">The block handle.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">blockSize</font></td>

<td><font face="Times">The size of the block.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Adopted Protocols</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">IXBlockAndStoreAccess</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">initInStore:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">initFromBlock:inStore:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">freeFromStore</font><br>
<font face="Times">+ freeFromBlock:inStore:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">getBlock:andStore:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">NXReference</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">addReference</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">free</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">references</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Method Types</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Accessing the block's contents</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">openAtOffset:forLength:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">readAtOffset:forLength:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">copyAtOffset:forLength:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">close</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Managing the block size</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">resizeTo:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">size</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Times">Archiving an object in an IXStoreBlock</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">readObject</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">writeObject:</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>close</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>close</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Closes the block of storage managed by the IXStoreBlock.&nbsp; To destroy the block of storage, send a <b>freeFromBlock:inStore: </b>message to the IXStoreBlock (this will also free the IXStoreBlock).&nbsp; Returns the IXStore containing the block.</font>

<p><font face="Times">This method doesn't affect transactions in any way.&nbsp; If you want to make the block available to other contexts, you should send <b>commitTransaction</b> to the IXStore.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>copyAtOffset:forLength:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(unsigned int)<b>copyAtOffset:</b>(unsigned int)<i>anOffset</i> <b>forLength:</b>(unsigned int)<i>aLength</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Copies a portion of the IXStoreBlock's block, creating a new block.&nbsp; The copy is made from the section of the block beginning at <i>anOffset</i> within the block, of <i>aLength</i> bytes.&nbsp; Returns the handle of the copy.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>copyBlock:atOffset:forLength:</b> (IXStore)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>openAtOffset:forLength:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(void *)<b>openAtOffset:</b>(unsigned int)<i>anOffset</i> <b>forLength:</b>(unsigned int)<i>aLength</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns a pointer to the portion of the IXStoreBlock's block specfied by <i>anOffset</i>, of <i>aLength</i> bytes, after having the IXStore open it for writing.&nbsp; If your code writes outside of the specified area, the IXStore's contents may be corrupted.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">Unless it's certain that the IXStoreBlock's store is memory-based, your application should assume that the data in the block is big-endian, and convert it to and from host endian-ness as needed.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>readAtOffset:forLength:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>openBlock:atOffset:forLength:</b> (IXStore),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>readBlock:atOffset:forLength: </b>(IXStore)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>readAtOffset:forLength:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(void *)<b>readAtOffset:</b>(unsigned int)<i>anOffset</i> <b>forLength:</b>(unsigned int)<i>aLength</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns a pointer to the portion of the IXStoreBlock's block specfied by <i>anOffset</i>, of <i>aLength</i> bytes, after having the IXStore open it for reading.&nbsp; If you write to the block, the IXStore's contents may be corrupted</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">Unless it's certain that the IXStoreBlock's store is memory-based, your application should assume that the data in the block is big-endian, and convert it to host endian-ness as needed.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>openAtOffset:forLength:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>openBlock:atOffset:forLength:</b> (IXStore),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>readBlock:atOffset:forLength: </b>(IXStore)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>readObject</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>readObject</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Unarchives and returns the object that was previously archived in the IXStoreBlock's block.&nbsp; The archived object must implement the <b>read:</b> method in order to be unarchived.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>writeObject:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read:</b> (Object),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write:</b> (Object)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>resizeTo:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>resizeTo:</b>(unsigned int)<i>size</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Resizes the IXStoreBlock's block to be size bytes long, and returns <b>self</b>.&nbsp; The block can only be resized when it's not open.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>size</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>resizeBlock:ToSize:</b> (IXStore),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>sizeOfBlock:</b> (IXStore)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>size</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(unsigned int)<b>size</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the size of the IXStoreBlock's block, in bytes.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>resizeToSize:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>sizeOfBlock:</b> (IXStore),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>resizeBlock:ToSize:</b> (IXStore)</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>writeObject:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>writeObject:</b>(unsigned int)<i>anObject</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Archives <i>anObject</i> into the IXStoreBlock's block.&nbsp; <i>anObject</i> must implement the <b>write:</b> method in order to be archived.&nbsp; The block is resized to fit the archived object if necessary.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>readObject</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write:</b> (Object),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read:</b> (Object)</font></td></tr>

</table>



<p>

</body>
</html>
