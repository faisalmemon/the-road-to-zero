<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/GeneralRef/08_InterfaceBuilder/Protocols/IBConnectors.rtf -->
<!-- Date: Sun Jun 28 20:06:14 1998 -->
<head>
<title>IBConnectors</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+2"><b>IBConnectors</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Adopted By:</b></font></td>

<td><font face="Times">no NEXTSTEP classes</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Declared In:</b></font></td>

<td><font face="Times">apps/InterfaceBuilder.h</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Protocol Description</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">This protocol declares Interface Builder's link to a connector object.&nbsp; Connectors are designed to store information about connections between objects in a nib document.&nbsp; For example, the private class that Interface Builder uses to store information about outlet connections conforms to this protocol and adds a method to store the name of the outlet.&nbsp; Connector objects are archived in the nib file.</font>

<p><font face="Times">When an application begins executing and it loads a nib file, the connector objects in the nib file are unarchived and are sent the <b>establishConnection</b> message.&nbsp; It is at this point that the connector can establish its type of connection between the source and destination.&nbsp; For example, Interface Builder's outlet connector sets the named outlet to point to the destination object.</font>

<p><font face="Times">Since connector objects are guaranteed to be archived in the nib file and are guaranteed to receive an <b>establishConnection </b>message at run time, they provide a mechanism for you to store other application-specific information in a nib file.</font>

<p><font face="Times">Your Connection inspector must set the source and destination in each of its connectors (for example, with <b>setSource:</b> and <b>setDestination:</b> methods).&nbsp; This protocol doesn't include methods to set these outlets, only to query them.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>destination</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>destination</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement to return the object that is the destination of the connection.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>source</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>establishConnection</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>establishConnection</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement to connect the source and destination objects.&nbsp; Interface Builder sends this message to each connector object after all objects have been unarchived from the nib file.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>free</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>free</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement to release the storage for the connector object.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>nibInstantiate</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>nibInstantiate</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement to verify the identities of the connector's source and destination objects.</font>

<p><font face="Times">Interface Builder sends a <b>nibInstantiate</b> message to a connector object to give it an opportunity to verify that its <b>source</b> and <b>destination</b> instance variables point to the intended objects.&nbsp; For example, consider the case in which a user puts a CustomView in a window and then reassigns the CustomView's class to MyView.&nbsp; The MyView class has a <b>textfield</b> outlet that the user connects to a neighboring TextField object.&nbsp; This action causes Interface Builder to create a connector object and set its destination to the TextField and its source to the CustomView.&nbsp; (The source can't be set to the MyView object since that class doesn't exist in InterfaceBuilder--that's why the CustomView was used in the first place.)</font>

<p><font face="Times">When the resulting nib file is loaded in the finished application, the connector object is unarchived and sent a <b>nibInstantiate </b>message.&nbsp; It's at this point that the connector must reset its <b>source</b> instance variable from the CustomView object to the MyView object.</font>

<p><font face="Times">The Application Kit, in a category of Object, provides a default implementation of this method.&nbsp; This implementation returns <b>self</b>.&nbsp; (Please note that the method isn't publically declared, a problem that will be remedied in a later release.)&nbsp; Consequently, all objects can respond to a <b>nibInstantiate</b> message.&nbsp; Your connector, therefore, should minimally implement this method to send <b>nibInstantiate</b> messages to its source and destination objects.&nbsp; For example, assuming the outlets are named <i>theSource </i>and <i>theDestination</i>, the implementation is:</font></td></tr>

</table>

<p><img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">- nibInstantiate</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">{</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1"><i>theSource</i> = [<i>theSource</i> nibInstantiate];</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1"><i>theDestination</i> = [<i>theDestination</i> nibInstantiate];</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">return self;</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">}</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">This will allow the source and destination objects to return the <b>id</b>s of the intended objects.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>read:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read:</b>(NXTypedStream *)<i>stream</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement to unarchive the connector object from <i>stream</i>.&nbsp; The connector should read in its instance variables and do any other initialization it requires.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>renewObject:to:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>renewObject:</b><i>old</i> <b>to:</b><i>new</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement to update a connector by replacing its old source or destination object (<i>old</i>) with a new object (<i>new</i>).&nbsp; This is used by Interface Builder, for example, when a user drags a Button object into a Matrix of ButtonCells.&nbsp; Assuming that the Button was connected, the connection information must be updated to reflect that fact that the Button has been replaced by a ButtonCell. Interface Builder updates this information by sending the appropriate connector object a <b>renewObject:to:</b> message with the Button as <i>old</i> and the ButtonCell as <i>new</i>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>source</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>source</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement to return the object that is the source of the connection.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>destination</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>write:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write:</b>(NXTypedStream *)<i>stream</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement to archive the connector object to <i>stream</i>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read</b></font></td></tr>

</table>



<p>

</body>
</html>
