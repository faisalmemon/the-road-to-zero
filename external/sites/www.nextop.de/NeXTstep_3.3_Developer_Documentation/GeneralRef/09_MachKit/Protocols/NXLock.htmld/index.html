<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/GeneralRef/09_MachKit/Protocols/NXLock.rtf -->
<!-- Date: Sun Jun 28 20:06:25 1998 -->
<head>
<title>NXLock</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+2"><b>NXLock</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Adopted By:</b></font></td>

<td><font face="Times">NXConditionLock</font><br>
<font face="Times">NXLock</font><br>
<font face="Times">NXSpinLock</font><br>
<font face="Times">NXRecursiveLock</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Declared In:</b></font></td>

<td><font face="Times">machkit/NXLock.h</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Protocol Description</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">This protocol is used by classes that provide lock objects.&nbsp; The lock objects provided by NeXTSTEP are used only for protecting critical sections--they contain no useful data.</font>

<p><font face="Times">Although an object that isn't a lock could adopt the NXLock protocol, it may be more desirable to design the object so that all locking is handled internally, through normal use rather than requiring that the object be explicitly locked and unlocked.</font>

<p><font face="Times">Four classes conform to the NXLock protocol:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Helvetica"><b>Class</b></font></td>

<td><font face="Helvetica"><b>Usage</b></font></td></tr>

<tr valign=top>

<td width=124 height=4></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">NXLock</font></td>

<td><font face="Times">Use NXLock objects to protect regions of code that can consume long periods of time, such as disk I/O or heavy computation.</font></td></tr>

<tr valign=top>

<td width=124 height=9></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">NXConditionLock</font></td>

<td><font face="Times">Protects critical sections of code, but can also be used to postpone entry to a critical section until a condition is met.&nbsp; This class is functionally a superset of the NXLock class, though unlocking is slightly more expensive.</font></td></tr>

<tr valign=top>

<td width=124 height=9></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">NXSpinLock</font></td>

<td><font face="Times">Use NXSpinLock objects to protect short regions of critical code.&nbsp; Useful in the implementation of drivers or more complex locks.&nbsp; A spin lock may be acquired more quickly than the other locks, but isn't appropriate for long sections of code since blocked spin locks busy-wait.</font></td></tr>

<tr valign=top>

<td width=124 height=9></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">NXRecursiveLock</font></td>

<td><font face="Times">Protects critical sections from access by multiple threads, but allows a single thread to acquire a lock several times without deadlocking.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Of these classes, only NXSpinLock busy-waits while the lock is unavailable.&nbsp; The other classes may all be efficiently used for long sections of atomic code.&nbsp; See the class specifications for these classes for further information on their behavior and usage.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>lock</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>lock</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Acquires a lock.&nbsp; Applications generally do this when entering a critical section of their code.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>unlock</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>unlock</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Releases a lock.&nbsp; Applications generally do this when exiting a critical section of their code.</font></td></tr>

</table>



<p><br>

</body>
</html>
