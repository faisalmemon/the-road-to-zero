<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/GeneralRef/17_3DKit/Classes/N3DLight.rtfd -->
<!-- Date: Sun Jun 28 20:07:42 1998 -->
<head>
<title>N3DLight</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+2"><b>N3DLight</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Inherits From:</b></font></td>

<td><font face="Times">N3DShape : Object</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Declared In:</b></font></td>

<td><font face="Times">3Dkit/N3DLight.h</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Class Description</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">N3DLight is a subclass of N3DShape that acts as a cover for the RenderMan <b>RiLightSource()</b> function.&nbsp; Like other members of the N3DShape family, an N3DLight can be positioned in a 3D coordinate system and managed as part of a shape hierarchy. When called on to render itself, an N3DLight invokes the <b>RiLightSource()</b> function.&nbsp; By this means, an N3DLight applies its lighting effects to its descendants and their peers.</font>

<p><br><br>

<p><font face="Helvetica"><b>Setting the Light Type</b></font>

<p><font face="Times">A light's type can be set to one of four enumerated values (defined in the header file <b>3Dkit/next3d.h</b>), illustrated in the following figures:</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=107></td>

<td><img src="F0.gif" width=157 height=78></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>Figure 17-4</b></font><font face="Times">.&nbsp; N3D_AmbientLight illuminates all surface evenly</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=107></td>

<td><img src="F1.gif" width=223 height=129></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>Figure 17-5</b></font><font face="Times">.&nbsp; N3D_DistantLight illuminates directionally with no falloff over distance</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=107></td>

<td><img src="F2.gif" width=157 height=106></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>Figure 17-6</b></font><font face="Times">.&nbsp; N3D_PointLight illuminates from a single point with falloff over distance</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=107></td>

<td><img src="F4.gif" width=205 height=125></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>Figure 17-7</b></font><font face="Times">.&nbsp; N3D_SpotLight illuminates from a single point with falloff over both distance and angle</font>

<p><br><br>

<p><font face="Times">Each of these types corresponds to an <b>RiLightSource()</b> <i>type</i> parameter:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">N3D_AmbientLight</font></td>

<td><font face="Times">&quot;ambientlight&quot;</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">N3D_DistantLight</font></td>

<td><font face="Times">&quot;distantlight&quot;</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">N3D_PointLight</font></td>

<td><font face="Times">&quot;pointlight&quot;</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">N3D_SpotLight</font></td>

<td><font face="Times">&quot;spotlight&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">The other parameters used in the <b>RiLightSource()</b> function call are set using N3DLight methods.&nbsp; Not all parameters apply to all light types: see the method descriptions for specifics on which settings apply to which light types.&nbsp; See <i>The RenderMan Companion</i> for more on light types and other parameters used by the <b>RiLightSource()</b> function.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">N3DLight parameters that specify angles are measured in degrees, not radians.</font>

<p><br><br>

<p><font face="Helvetica"><b>Lights in the Shape Hierarchy</b></font>

<p><font face="Times">Because N3DLight is a subclass of N3DShape, it inherits methods for positioning its instances at any point in space.&nbsp; To do so, you add an N3DLight object to the appropriate position in a shape hierarchy, then apply transformations to position it relative to other N3DShapes.&nbsp; By doing so, you can associate the light source with particular surfaces in a scene.</font>

<p><br><br>

<p><font face="Helvetica"><b>Global and Local Lights</b></font>

<p><font face="Times">By adding an N3DLight to a camera's global light list, a light source can be made to illuminate all the shapes in a scene.&nbsp; A light that isn't in a camera's global light list remains a local light, illuminating only its descendants and their peers.&nbsp; A light can be in both a shape hierarchy--giving it a position in relation to other objects in a scene--and in a camera's global light list. Alternatively, you can add an instance of N3DLight to the global light list without placing it in a shape hierarchy.&nbsp; A light managed in this way has its origin at the origin of the world coordinate system; any transformations applied will position the light relative to this coordinate system.</font>

<p><font face="Times">Use N3DCamera's <b>addLight:</b> method to place a light in a camera's global light list.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Variables</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">RtToken <b>lightHandle</b>;</font>

<p><font face="Times">N3DLightType <b>type</b>;</font>

<p><font face="Times">RtPoint <b>from</b>;</font>

<p><font face="Times">RtPoint <b>to</b>;</font>

<p><font face="Times">NXColor <b>color</b>;</font>

<p><font face="Times">RtFloat <b>intensity</b>;</font>

<p><font face="Times">RtFloat <b>coneangle</b>;</font>

<p><font face="Times">RtFloat <b>conedelta</b>;</font>

<p><font face="Times">RtFloat <b>beamdistribution</b>;</font>

<p><font face="Times">struct {</font>

<p><img src="../../../Images/sp.gif" width=37 height=1><font face="Times">unsigned int <b>global</b> : 1;</font>

<p><img src="../../../Images/sp.gif" width=37 height=1><font face="Times">unsigned int <b>on</b> : 1;</font>

<p><font face="Times">} <b>lightFlags</b>;</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">lightHandle</font></td>

<td><font face="Times">RenderMan handle for the light</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">type</font></td>

<td><font face="Times">Type of light source</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">from</font></td>

<td><font face="Times">Position of the light relative to its origin</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">to</font></td>

<td><font face="Times">Direction of a directional light</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">color</font></td>

<td><font face="Times">Color of the light</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">intensity</font></td>

<td><font face="Times">Intensity of the light</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">coneangle</font></td>

<td><font face="Times">Angle of distribution of a spotlight</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">conedelta</font></td>

<td><font face="Times">Angle at which a spotlight begins to falloff</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">beamdistribution</font></td>

<td><font face="Times">Smoothness of a spotlight's angular falloff</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">lightFlags.global</font></td>

<td><font face="Times">YES if the light is turned on by N3DCamera</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">lightFlags.on</font></td>

<td><font face="Times">YES if the light is on</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Method Types</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Initializing</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">init</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Setting light type</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setType:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">type</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">makeAmbientWithIntensity:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">makePointFrom:intensity:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">makeDistantFrom:to:intensity:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">makeSpotFrom:to:coneAngle:coneDelta: beamDistribution:intensity:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Setting light parameters</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setFrom:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setFrom:to:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">getFrom:to:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setConeAngle:coneDelta:beamDistribution:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">getConeAngle:coneDelta:beamDistribution:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setIntensity:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">intensity</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Rendering</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">renderSelf:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">renderGlobal:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Global</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setGlobal:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">isGlobal</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Switching on and off</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">switchLight:</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Setting color</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setColor:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">color</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Archiving</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">read:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">write:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">awake</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>awake</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>awake</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Invoked after unarchiving to allow the N3DLight to perform additional initialization.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>color</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(NXColor)<b>color</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the light's color.&nbsp; The default value is NX_COLORWHITE.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setColor:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>getConeAngle:coneDelta:beamDistribution:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getConeAngle:</b>(RtFloat *)<i>coneAngle</i> <b>coneDelta:</b>(RtFloat *)<i>deltaAngle</i></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=163></td>

<td><font face="Times"><b>beamDistribution:</b>(RtFloat *)<i>distribution</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns <b>self</b> and, by reference, the values for the unique parameters of a spotlight.&nbsp; See <b>makeSpotFrom:to:coneAngle:coneDelta:beamDistribution:intensity:</b> for a description and illustration of these parameters. By default, <i>coneAngle</i> is 30.0 degrees<i>, deltaAngle</i> is 5.0 degrees, and <i>distribution</i> is 2.0.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>makeSpotFrom:to:coneAngle:coneDelta:beamDistribution:intensity:</b>,</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setConeAngle:coneDelta:beamDistribution:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>getFrom:to:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getFrom:</b>(RtPoint *)<i>fromPoint</i> <b>to:</b>(RtPoint *)<i>toPoint</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns <b>self</b> and, by reference, the values of the parameters defining the direction of a distant light or spot light.&nbsp; <i>fromPoint </i>represents the <b>RiLightSource()</b> <i>from</i> parameter and <i>toPoint</i> represents the <i>to</i> parameter.&nbsp; If the receiver is a point light<i>, fromPoint</i> represents the value of the <i>from</i> parameter, and <i>toPoint</i> may be disregarded.&nbsp; The default settings are (0.0, 0.0, 0.0) for <i>fromPoint</i> and (0.0, 0.0, 1.0) for <i>toPoint</i>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>init</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>init</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Initializes and returns the receiver, a newly created instance of N3DLight.&nbsp; Creates the light handle used by the RenderMan renderer, and sets the new light's instance variables to the RenderMan parameter default values.&nbsp; The default type is N3D_AmbientLight, while the other settings are:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">intensity</font></td>

<td><font face="Times">1.0</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">color</font></td>

<td><font face="Times">NX_COLORWHITE</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">from</font></td>

<td><font face="Times">(0.0,0.0,0.0)</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">to</font></td>

<td><font face="Times">(0.0,0.0,1.0)</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">coneAngle</font></td>

<td><font face="Times">30 degrees</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">coneDeltaAngle</font></td>

<td><font face="Times">5 degrees</font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">beamDistribution</font></td>

<td><font face="Times">2.0</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Since the default type is N3D_AmbientLight, the last 5 settings are stored but ignored when the light is rendered.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>intensity</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(RtFloat)<b>intensity</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the intensity of the N3DLight.&nbsp; RenderMan light sources are usually set to values between 0.0 and 1.0.&nbsp; By default, the intensity is set to 1.0.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setIntensity:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>isGlobal</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(BOOL)<b>isGlobal</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns YES if the receiver is a global light.&nbsp; Global lights are kept in an N3DCamera's light list; they can illuminate the entire scene viewed by the camera.&nbsp; Because N3DLight is a subclass of N3DShape, global N3DLights can be positioned in a scene and associated with specific N3DShapes by placement in the shape hierarchy.&nbsp; Returns NO if the receiver isn't global; a nonglobal light illuminates only its descendants and their peers.&nbsp; A light's global status is set when N3DCamera's <b>addLight: </b>and <b>removeLight:</b> methods are invoked.</font>

<p><font face="Times">By default, an N3DLight isn't global.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>addLight:</b> (N3DCamera),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>removeLight:</b> (N3DCamera),</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>lightList</b> (N3DCamera),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>renderGlobal:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setGlobal:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>makeAmbientWithIntensity:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>makeAmbientWithIntensity:</b>(RtFloat)<i>intensity</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Changes the type of the receiver to ambient (N3D_AmbientLight) and sets its intensity to <i>intensity</i>.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>intensity</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>makeDistantFrom:to:intensity:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>makeDistantFrom:</b>(RtPoint)<i>fromPoint</i></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=163></td>

<td><font face="Times"><b>to:</b>(RtPoint)<i>toPoint</i></font><br>
<font face="Times"><b>intensity:</b>(RtFloat)<i>intensity</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Changes the type of the receiver to N3D_DistantLight, then sets the light's from point, to point, and intensity.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getFrom:to:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>intensity</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>makePointFrom:intensity:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>makePointFrom:</b>(RtPoint)<i>from</i> <b>intensity:</b>(RtFloat)<i>intensity</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Changes the type of the receiver to N3D_PointLight, then sets the light's from point and the intensity.&nbsp; Returns <b>self</b>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>makeSpotFrom:to:coneAngle:coneDelta:beamDistribution:intensity:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>makeSpotFrom:</b>(RtPoint)<i>fromPoint</i></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=163></td>

<td><font face="Times"><b>to:</b>(RtPoint)<i>toPoint</i></font><br>
<font face="Times"><b>coneAngle:</b>(RtFloat)<i>coneAngle</i></font><br>
<font face="Times"><b>coneDelta:</b>(RtFloat)<i>deltaAngle</i></font><br>
<font face="Times"><b>beamDistribution:</b>(RtFloat)<i>distribution</i></font><br>
<font face="Times"><b>intensity:</b>(RtFloat)<i>intensity</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Changes the type of the receiver to N3D_SpotLight, then sets the light's from point, to point, cone angle, cone delta, beam distribution, and intensity.&nbsp; <i>coneAngle</i> is the angle of distribution of the light in degrees:&nbsp; the angle between the center of the area covered by the light and the edge of the light's coverage.&nbsp; <i>deltaAngle</i> is the angle (also in degrees) at which the light's beam begins to fall off.&nbsp; <i>distribution</i> is a factor that determines the rate of falloff.&nbsp; (These parameters are described in greater detail in <i>The RenderMan Companion</i>.) Returns <b>self</b>.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=107></td>

<td><img src="F3.gif" width=225 height=125></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>Figure 17-8</b></font><font face="Times">.&nbsp; N3D_SpotLight's cone angle and cone delta</font>

<p><br><br>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getConeAngle:coneDelta:beamDistribution:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>read:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read:</b>(NXTypedStream *)<i>stream</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Reads the receiver from the typed stream <i>stream</i>.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>awake</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>renderGlobal:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>renderGlobal:</b>(N3DCamera *)<i>theCamera</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Renders the N3DLight as a global light.&nbsp; <b>renderGlobal:</b> is sent to all lights in an N3DCamera's global light list before the world shape is sent a <b>renderSelf:</b> message.&nbsp; Override this method to do unique rendering with a global light:</font></td></tr>

</table>

<p><img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">renderGlobal:(N3DCamera *)camera</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">{</font><br>
<img src="../../../Images/sp.gif" width=143 height=1><font face="Courier" size="-1">/* rendering before the global light is rendered */</font><br>
<img src="../../../Images/sp.gif" width=143 height=1><font face="Courier" size="-1">[super renderGlobal:camera];</font><br>
<img src="../../../Images/sp.gif" width=143 height=1><font face="Courier" size="-1">/* rendering after the global light is rendered */</font><br>
<img src="../../../Images/sp.gif" width=143 height=1><font face="Courier" size="-1">return self;</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">}</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns <b>self</b>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>renderSelf:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>renderSelf:</b>(N3DCamera *)<i>theCamera</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Renders an N3DLight at its position in the shape hierarchy.&nbsp; If the receiver is global, this method does nothing; otherwise, it uses the parameters set for the light in a call to the RenderMan <b>RiLightSource()</b> function.&nbsp; Override this method to do unique rendering with a local light.&nbsp; Returns <b>self</b>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setColor:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setColor:</b>(NXColor)<i>theColor</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the receiver's color.&nbsp; If <i>theColor</i> contains an alpha component, that component is ignored.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>color</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setConeAngle:coneDelta:beamDistribution:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setConeAngle:</b>(RtFloat)<i>coneAngle</i></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=163></td>

<td><font face="Times"><b>coneDelta:</b>(RtFloat)<i>coneDelta</i></font><br>
<font face="Times"><b>beamDistribution:</b>(RtFloat<i>)distribution</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the unique parameters for a spot light to the values supplied.&nbsp; See the method <b>makeSpotFrom:to:coneAngle:coneDelta:beamDistribution:intensity:</b> for a description and illustration of these parameters. If the receiver isn't a spot light, the arguments are stored but have no effect when the light is rendered.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getConeAngle:coneDelta:beamDistribution:</b>,</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>makeSpotFrom:to:coneAngle:coneDelta:beamDistribution:intensity:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setFrom:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setFrom:</b>(RtPoint)<i>fromPoint</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the value of the light's from point to <i>fromPoint</i>.&nbsp; This method affects all light types that have a <i>from</i> parameter:&nbsp; point lights, distant lights, and spot lights.&nbsp; If the receiver is an ambient light, the argument is stored but has no effect when the light is rendered.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <font face="Times">makePointFrom:intensity:</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setFrom:to:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setFrom:</b>(RtPoint)<i>fromPoint</i> <b>to:</b>(RtPoint)<i>toPoint</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the value of the light's from and to points.&nbsp; This method affects light types N3D_DistantLight, N3D_SpotLight, and N3D_PointLight (which has only a <i>from</i> parameter).&nbsp; The arguments are stored even if they have no effect when the light is rendered.&nbsp; Returns <b>self</b>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setGlobal:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setGlobal:</b>(BOOL)<i>flag</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Invoked by N3DCamera to set the receiver's <b>lightFlags.global</b> instance variable to <i>flag</i>.&nbsp; You should never invoke this method directly; instead, invoke N3DCamera's <b>addLight:</b> method to add a global light and <b>removeLight:</b> to remove a light.</font>

<p><font face="Times">Override this method to adjust the light's parameters or other features when it is added to or removed from the global light list. Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>addLight:</b> (N3DCamera),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>removeLight:</b> (N3DCamera),</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>lightList</b> (N3DCamera),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>renderGlobal:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setGlobal:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setIntensity:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setIntensity:</b>(RtFloat)<i>intensity</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the intensity of the N3DLight and returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>intensity</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setType:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setType:</b>(N3DLightType)<i>aType</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the type of the N3DLight object.&nbsp; <i>aType</i> can be one of the following enumerated values (defined in the header file <b>3Dkit/next3d.h</b>):</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=125></td>

<td><font face="Times">N3D_AmbientLight</font><br>
<font face="Times">N3D_PointLight</font><br>
<font face="Times">N3D_DistantLight</font><br>
<font face="Times">N3D_SpotLight</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>type</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>switchLight:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>switchLight:</b>(BOOL)<i>flag</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Turns the light on or off.&nbsp; If <i>flag</i> is YES, this method turns the light on; if NO, turns the light off.&nbsp; Returns <b>self</b>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>type</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(N3DLightType)<b>type</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the receiver's light type.&nbsp; The return value can be one of the following enumerated values (defined in the header file <b>3Dkit/next3d.h</b>):</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=125></td>

<td><font face="Times">N3D_AmbientLight</font><br>
<font face="Times">N3D_PointLight</font><br>
<font face="Times">N3D_DistantLight</font><br>
<font face="Times">N3D_SpotLight</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">The default type is N3D_AmbientLight.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>write:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write:</b>(NXTypedStream *)<i>stream</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Writes the receiving light to the typed stream <i>stream</i>.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>awake</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read:</b></font></td></tr>

</table>



<p><br>

</body>
</html>
