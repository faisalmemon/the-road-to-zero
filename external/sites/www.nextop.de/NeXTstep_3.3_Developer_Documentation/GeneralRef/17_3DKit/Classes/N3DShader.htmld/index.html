<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/GeneralRef/17_3DKit/Classes/N3DShader.rtf -->
<!-- Date: Sun Jun 28 20:07:50 1998 -->
<head>
<title>N3DShader</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+2"><b>N3DShader</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Inherits From:</b></font></td>

<td><font face="Times">Object</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Declared In:</b></font></td>

<td><font face="Times">3Dkit/N3DShader.h</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Class Description</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">N3DShader manages the application of shader functions to N3DShapes.&nbsp; A shader function is written in the RenderMan Shading Language, compiled with the shading language compiler (see the <b>shader</b>(1) UNIX manual page), and contained in a shading language object file.&nbsp; The RenderMan Shading Language is described in detail in <i>The RenderMan Companion</i>.</font>

<p><br><br>

<p><font face="Helvetica"><b>Shader Functions and Shading Language Object Files</b></font>

<p><font face="Times">Each N3DShader instance manages a single shading language function.&nbsp; A shader function is contained in a shading language object file.&nbsp; The name of the shader function and shading language object file are the same (the file name has the extension .slo).</font>

<p><font face="Times">When its shader function is set by the <b>initWithShader:</b> or <b>setShader:</b> methods, an N3DShader searches for the specified shader language object file in the current directory, and in the directory paths <b>~/Library/Shaders</b>, <b>/LocalLibrary/Shaders</b>, and <b>/NextLibrary/Shaders</b>.&nbsp; If the specified shader is found, the N3DShader's type, along with its arguments and their default values, is set.</font>

<p><font face="Times">The N3DShader class provides methods to determine these arguments for a particular shader function and to assign values for these arguments.&nbsp; When rendering, the argument/value pairs are passed to the shader function.&nbsp; You can reset any of an N3DShader's arguments to their default values using the <b>resetShaderArg:</b> method.</font>

<p><br><br>

<p><font face="Helvetica"><b>Shader Function Arguments</b></font>

<p><font face="Times">Each shader function can have an open-ended list of arguments.&nbsp; The N3DShader class provides a number of methods for accessing these arguments and setting or retrieving their values.</font>

<p><font face="Times">The method <b>shaderArgCount</b> returns the number of arguments for the function.&nbsp; The method <b>shaderArgNameAt:</b> returns the name of each argument by zero-based index.&nbsp; The method <b>shaderArgType:</b> returns the type of a named argument.</font>

<p><font face="Times">The N3DShader class provides several methods to let you get and set the values for named arguments to a shader function. These methods perform type conversion between the C-language, NEXTSTEP, and RenderMan types used in your application and the RenderMan Shading Language types used in the underlying shading function.&nbsp; The shading language argument types are identified by members of an enumeration, SLO_TYPE, declared in the header file <b>ri/slo.h</b>.&nbsp; The following table lists the correspondences between C-language types, shading language types, and methods:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Helvetica"><b>C-language Type</b></font></td>

<td nowrap><font face="Helvetica"><b>SLO_TYPE</b></font></td>

<td><font face="Helvetica"><b>Methods</b></font></td></tr>

<tr valign=top>

<td width=124 height=4></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">RtPoint</font></td>

<td nowrap><font face="Times">SLO_TYPE_POINT</font></td>

<td><font face="Times"><b>getShaderArg:pointValue:</b></font><br>
<font face="Times"><b>setShaderArg:pointValue:</b></font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">NXColor</font></td>

<td nowrap><font face="Times">SLO_TYPE_COLOR</font></td>

<td><font face="Times"><b>getShaderArg:colorValue:</b></font><br>
<font face="Times"><b>setShaderArg:colorValue:</b></font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">float</font></td>

<td nowrap><font face="Times">SLO_TYPE_SCALAR</font></td>

<td><font face="Times"><b>getShaderArg:floatValue:</b></font><br>
<font face="Times"><b>setShaderArg:floatValue:</b></font></td></tr>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">const char *</font></td>

<td nowrap><font face="Times">SLO_TYPE_STRING</font></td>

<td><font face="Times"><b>getShaderArg:stringValue:</b></font><br>
<font face="Times"><b>setShaderArg:stringValue:</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">In general, you should use the <b>shaderArgType:</b> method to check an argument's type, then use the <b>getShaderArg:...</b>&nbsp; and <b>setShaderArg:...</b>&nbsp; method appropriate to the type of the argument.&nbsp; While it's recommended that your application enforce these correspondences, the type conversion provided with each of the <b>getShaderArg:...</b>&nbsp; and <b>setShaderArg:...</b>&nbsp; methods is flexible enough to let you mix ostensibly incompatible data types.&nbsp; The conversion schemes are somewhat complex but are documented with each of the <b>getShaderArg:...</b>&nbsp; and <b>setShaderArg:...</b>&nbsp; for the sake of completeness.</font>

<p><br><br>

<p><font face="Helvetica"><b>N3DShader and N3DShape</b></font>

<p><font face="Times">RenderMan Shading Language functions are applied to specific surfaces in a scene.&nbsp; In the 3D Graphics Kit, N3DShaders are applied by being associated with N3DShapes.&nbsp; As the shapes in a shape hierarchy are rendered, the associated shader functions are called:&nbsp; The shaders are thereby applied to that shape and its descendants.&nbsp; Each N3DShape can apply six different shader types:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=125></td>

<td><font face="Times">surface</font><br>
<font face="Times">displacement</font><br>
<font face="Times">light</font><br>
<font face="Times">imager</font><br>
<font face="Times">volume</font><br>
<font face="Times">transformation</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">See the description of the <b>render:</b> method in N3DShape for an illustration of the order in which a shape's shader functions are invoked.</font>

<p><br><br>

<p><font face="Helvetica"><b>N3DShader and the Interactive Renderer</b></font>

<p><font face="Times">While the PhotoRealistic RenderMan renderer can use any shader written with the RenderMan Shading Language, the Interactive RenderMan renderer uses only a limited set of shaders.&nbsp; The surface type shaders that can be used by the interactive renderer are constant, matte, metal, plastic, and none.&nbsp; The atmosphere shaders used by the interactive renderer are depthcue and fog.&nbsp; Other than these, the interactive renderer ignores shading functions for performance reasons.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Variables</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">NXColor <b>color</b>;</font>

<p><font face="Times">float <b>transparency</b>;</font>

<p><font face="Times">const char *<b>shader</b>;</font>

<p><font face="Times">SLO_TYPE <b>shaderType</b>;</font>

<p><font face="Times">int <b>shaderArgCount</b>;</font>

<p><font face="Times">SLOArgs *<b>shaderArgs</b>;</font>

<p><font face="Times">NXZone *<b>zone</b>;</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">color</font></td>

<td><font face="Times">Shader color</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">transparency</font></td>

<td><font face="Times">Shader transparency</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">shader</font></td>

<td><font face="Times">Name of the shader function</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">shaderType</font></td>

<td><font face="Times">Type of shader</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">shaderArgCount</font></td>

<td><font face="Times">Size of the array of shader arguments</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">shaderArgs</font></td>

<td><font face="Times">Array of shader arguments</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">zone</font></td>

<td><font face="Times">The zone in which the object's data resides</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Method Types</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Initializing and freeing</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">init</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">initWithShader:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">free</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Shader language object file</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setShader:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">shader</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Shader color</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setColor:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">color</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setUseColor:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">doesUseColor</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Shader transparency</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setTransparency:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">transparency</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Times">Shader function argument handling</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=308></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">shaderArgCount</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">shaderArgNameAt:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">shaderArgType:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">isShaderArg:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setShaderArg:floatValue:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setShaderArg:stringValue:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setShaderArg:pointValue:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">setShaderArg:colorValue:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">getShaderArg:floatValue:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">getShaderArg:stringValue:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">getShaderArg:pointValue:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">getShaderArg:colorValue:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">resetShaderArg:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Shader type</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">shaderType</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Invoking the shader function</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">set</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Archiving</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">read:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">write:</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>color</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(NXColor)<b>color</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the color of the shader.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setColor:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setUseColor:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>doesUseColor</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>doesUseColor</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(BOOL)<b>doesUseColor</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns YES if the shader uses colors; NO if not.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>color</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setColor:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setUseColor:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>free</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>free</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Frees the N3DShader and its data.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>getShaderArg:colorValue:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getShaderArg:</b>(const char *)<i>colorName</i> <b>colorValue:</b>(NXColor *)<i>colorValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns by reference the <i>colorValue</i> of the shader argument <i>colorName</i>.&nbsp; This method should be used for shader function arguments of SLO_TYPE_COLOR.&nbsp; Use the method <b>shaderArgType:</b> to check <i>colorName</i>'s type before invoking this method. See &quot;Shader Function Arguments&quot; in the class description for a more complete discussion of how to get the type of an argument.</font>

<p><font face="Times">If the argument <i>colorName</i> isn't a color type, this method converts the shading language type to an NXColor.&nbsp; If the argument is a float, the argument's value is converted using the <b>NXConvertGrayToColor()</b> function.&nbsp; If the argument is a string, the string value is converted to a float and then converted to a color with <b>NXConvertGrayToColor()</b>.&nbsp; If the argument is a point, its x-, y-, and z-coordinates are treated as r-, g-, and b-components and converted by the function <b>NXConvertRGBToColor()</b>.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>shaderArgType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>getShaderArg:floatValue:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getShaderArg:</b>(const char *)<i>floatName</i> <b>floatValue:</b>(float *)<i>floatValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns by reference the <i>floatValue</i> of the shader argument <i>floatName</i>.&nbsp; This method should be used for shader function arguments of SLO_TYPE_SCALAR.&nbsp; Use the method <b>shaderArgType:</b> to check <i>floatName</i>'s type before invoking this method. See &quot;Shader Function Arguments&quot; in the class description for a more complete discussion of how to get the type of an argument.</font>

<p><font face="Times">If the argument <i>floatName</i> isn't a float, this method converts the shading language type to a float.&nbsp; If the argument is a color, the value is converted using the <b>NXConvertColorToGray()</b> function.&nbsp; If the argument is a string, the string value is converted to a float.&nbsp; If the argument is a point, its x-coordinate is returned.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>shaderArgType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>getShaderArg:pointValue:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getShaderArg:</b>(const char *)<i>pointName</i> <b>pointValue:</b>(RtPoint *)<i>pointValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns by reference the <i>pointValue</i> of the shader argument <i>pointName</i>.&nbsp; This method should be used for shader function arguments of SLO_TYPE_POINT.&nbsp; Use the method <b>shaderArgType:</b> to check <i>colorName</i>'s type before invoking this method. See &quot;Shader Function Arguments&quot; in the class description for a more complete discussion of how to get the type of an argument.</font>

<p><font face="Times">If the argument <i>pointName</i> isn't a point type, this method converts the shading language type to an RtPoint.&nbsp; If the argument is a color, the the r-, g-, and b-components of the color are assigned to the x-, y-, and z-cooordinates of <i>pointValue</i>.&nbsp; If the argument is a float, all three components of <i>pointValue</i> return that value.&nbsp; If the argument is a string, the string value is converted to and treated as a float.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>shaderArgType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>getShaderArg:stringValue:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>getShaderArg:</b>(const char *)<i>stringName</i> <b>stringValue:</b>(const char **)<i>stringValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns by reference the <i>stringValue</i> of the shader argument <i>stringName</i>.&nbsp; This method should be used for shader function arguments of SLO_TYPE_STRING.&nbsp; Use the method <b>shaderArgType:</b> to check <i>stringName</i>'s type before invoking this method.&nbsp; See &quot;Shader Function Arguments&quot; in the class description for a more complete discussion of how to get the type of an argument.</font>

<p><font face="Times">If the argument <i>stringName</i> isn't a string type, this method converts the shading language type to a string.&nbsp; If the argument is a point, the string returned contains the x-, y-, and z-coordinates in order.&nbsp; If the argument is a color, the string returned contains the r-, g-, and b-components in order.&nbsp; If the argument is a float, the string returned contains the value.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>shaderArgType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>init</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>init</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Initializes the receiver, a newly allocated instance of N3DShader.&nbsp; The shader name is set to NULL.&nbsp; The receiver's color is set to white and its transparency set to opaque (1.0).</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>initWithShader:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>initWithShader:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>initWithShader:</b>(const char *)<i>aShader</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Initializes the receiver, a newly allocated instance of N3DShader.&nbsp; Invokes <b>setShader:</b> to set the receiver's shader to <i>aShader</i>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>isShaderArg:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(BOOL)<b>isShaderArg:</b>(const char *)<i>argName</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns YES if <i>argName</i> is the name of an argument for the shader owned by the N3DShader.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>read:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read:</b>(NXTypedStream *)<i>stream</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Reads the receiver from the typed stream <i>stream</i>.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>resetShaderArg:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>resetShaderArg:</b>(const char *)<i>argName</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Restores the default value for the shader argument <i>argName</i>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>set</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>set</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Applies the receiver's shader function during rendering.&nbsp; This method calls the appropriate RenderMan function--<b>RiSurface()</b>, <b>RiAtmosphere()</b>, and so on--with the N3DShader's shader name and arguments.&nbsp; If the receiver is set to apply its color, this method calls <b>RiColor()</b> before calling the shader function.</font>

<p><font face="Times">An N3DShape can have one each of six different N3DShader types.&nbsp; This method is invoked by N3DShape's <b>render:</b> method on each of its N3DShader instances before the shape renders itself.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>render:</b> (N3DShape),</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setColor:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setUseColor:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setColor:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setColor:</b>(NXColor)<i>aColor</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the color of the N3DShader to <i>aColor</i>.&nbsp; Note that the effect produced by this method is distinct from that of <b>setShaderArg:colorValue:</b>, which is used to set an argument/value pair for a shader function.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>color</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setUseColor:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>doesUseColor</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setShader:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setShader:</b>(const char *)<i>aShader</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the receiver's shader function to <i>aShader</i>.&nbsp; <i>aShader</i> must be the name of a shader language object file in the default shader search path.&nbsp; Shader language object files are created by the shader compiler; each contains a single shader function.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setShaderArg:colorValue:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setShaderArg:</b>(const char *)<i>colorName</i> <b>colorValue:</b>(NXColor)<i>colorValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the value of the shader argument <i>colorName</i>.&nbsp; This method should be used for shader function arguments of SLO_TYPE_COLOR.&nbsp; Use the method <b>shaderArgType:</b> to check <i>colorName</i>'s type before invoking this method.&nbsp; See &quot;Shader Function Arguments&quot; in the class description for a more complete discussion of how to get the type of an argument.</font>

<p><font face="Times">If the argument <i>colorName</i> isn't a color, this method converts <i>colorValue</i> to the appropriate shading language type.&nbsp; If the argument is a float, <i>colorValue</i> is converted using the <b>NXConvertColorToGray()</b> function.&nbsp; If the argument is a string, <i>colorValue</i>'s r-, g-, and b-components are placed in the string in order.&nbsp; If the argument is a point, the r-, g-, and b-components of <i>colorValue</i> are set as the x-, y-, and z-components of the argument.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>shaderArgType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setShaderArg:floatValue:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setShaderArg:</b>(const char *)<i>floatName</i> <b>floatValue:</b>(float)<i>floatValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the value of the shader argument <i>floatName</i>.&nbsp; This method should be used for shader function arguments of SLO_TYPE_SCALAR.&nbsp; Use the method <b>shaderArgType:</b> to check <i>colorName</i>'s type before invoking this method.&nbsp; See &quot;Shader Function Arguments&quot; in the class description for a more complete discussion of how to get the type of an argument.</font>

<p><font face="Times">If the argument <i>floatName</i> isn't a float, this method converts <i>floatValue</i> to the appropriate shading language type.&nbsp; If the argument is a color, <i>floatValue</i> is converted using the <b>NXConvertGrayToColor()</b> function.&nbsp; If the argument is a string, <i>floatValue</i> is converted to a string.&nbsp; If the argument is a point, all three coordinates are set to <i>floatValue</i>.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>shaderArgType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setShaderArg:pointValue:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setShaderArg:</b>(const char *)<i>pointName</i> <b>pointValue:</b>(RtPoint)<i>pointValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the value of the shader argument <i>pointName</i>.&nbsp; This method should be used for shader function arguments of SLO_TYPE_POINT.&nbsp; Use the method <b>shaderArgType:</b> to check <i>pointName</i>'s type before invoking this method.&nbsp; See &quot;Shader Function Arguments&quot; in the class description for a more complete discussion of how to get the type of an argument.</font>

<p><font face="Times">If the argument <i>pointName</i> isn't a point, this method converts <i>pointValue</i> to the appropriate shading language type.&nbsp; If the argument is a float, <i>pointValue</i>'s x-coordinate is assigned to the variable.&nbsp; If the argument is a string, the x-, y-, and z-coordinates of <i>pointValue</i> are placed in order in the string.&nbsp; If the argument is a color, this method assigns the x-, y-, and z-coordinates of <i>pointValue</i> to the r-, g-, and b-components of the argument.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>shaderArgType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setShaderArg:stringValue:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setShaderArg:</b>(const char *)<i>stringName</i> <b>stringValue:</b>(const char *)<i>stringValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the value of the shader argument <i>stringName</i>.&nbsp; This method should be used for shader function arguments of SLO_TYPE_STRING.&nbsp; Use the method <b>shaderArgType:</b> to check <i>stringName</i>'s type before invoking this method.&nbsp; See &quot;Shader Function Arguments&quot; in the class description for a more complete discussion of how to get the type of an argument.</font>

<p><font face="Times">If the argument <i>stringName</i> is a float, this method converts <i>stringValue</i> to a float. If the argument is a point or color, no conversion is made and the argument's value isn't changed.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>shaderArgType:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setTransparency:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setTransparency:</b>(float)<i>alphaValue</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sets the transparency of the shader to <i>alphaValue</i>.&nbsp; Returns <b>self</b>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>setUseColor:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setUseColor:</b>(BOOL)<i>flag</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">If <i>flag</i> is YES, sets the receiver to apply its color when rendering.&nbsp; The color is set with the <b>setColor:</b> method, and is applied using the <b>RiColor()</b> RenderMan call.&nbsp; Normally, this method is only invoked with <i>flag</i> YES for a surface type N3DShader. Note that the effect produced by this method is distinct from that of <b>setShaderArg:colorValue:</b>, which is used to set an argument/value pair for a shader function.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>set</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>setColor:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>shader</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(const char *)<b>shader</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the name of the shader function associated with the N3DShader.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>shaderArgCount</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(int)<b>shaderArgCount</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the number of arguments for the shader function associated with the N3DShader.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>shaderArgNameAt:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(const char *)<b>shaderArgNameAt:</b>(int)<i>argIndex</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the name of the argument at position <i>argIndex</i> in the list of shader function argument names.&nbsp; To get all argument names, use this method to iterate through the list beginning with an <i>argIndex</i> of 0 and ending with an <i>argIndex</i> of</font></td></tr>

</table>

<p><img src="../../../Images/sp.gif" width=131 height=1><font face="Courier" size="-1">[self shaderArgCount]-1</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>shaderArgType:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(SLO_TYPE)<b>shaderArgType:</b>(const char *)<i>argName</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the type of the argument <i>argName</i> from the list of shader function argument names.&nbsp; The value returned is an enumerated type, defined in the header file <b>ri/slo.h</b>.&nbsp; If <i>argName</i> isn't found in the list, returns SLO_TYPE_UNKNOWN.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>shaderType</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(SLO_TYPE)<b>shaderType</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the type of the shader function.&nbsp; The value returned is an enumerated type, defined in the header file <b>ri/slo.h</b>.&nbsp; If the receiving N3DShader doesn't have an associated shader function, this method returns SLO_TYPE_UNKNOWN.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>transparency</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(float)<b>transparency</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the transparency (alpha) value set for the receiving N3DShader.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>write:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>write:</b>(NXTypedStream *)<i>stream</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Writes the receiving N3DShader to the typed stream <i>stream</i>.&nbsp; Returns <b>self</b>.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>read:</b></font></td></tr>

</table>



<p><br>

</body>
</html>
