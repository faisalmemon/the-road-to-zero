<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/GeneralRef/19_WorkspaceManager/Classes/WMInspector.rtf -->
<!-- Date: Sun Jun 28 20:08:03 1998 -->
<head>
<title>WMInspector</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+2"><b>WMInspector</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Inherits From:</b></font></td>

<td><font face="Times">Object</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Declared In:</b></font></td>

<td><font face="Times">apps/Workspace.h</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Class Description</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">The WMInspector class defines the link between the Workspace Manager application and the module that's loaded into the application.&nbsp; When you build a new inspector for the Workspace Manager, you must create a subclass of WMInspector.&nbsp; The inspector you define must load its interface (that is, the nib file containing the interface) in its <b>new</b> method.&nbsp; It must also override the inherited <b>revert:</b> method to load information about the selection into its display.</font>

<p><font face="Times">Your inspector can query the Workspace Manager for information on the selection in the File Viewer by sending itself <b>selectionCount</b> and <b>selectionPathInto:separator:</b> messages.&nbsp; It can send itself <b>okButton</b>, <b>revertButton</b>, and <b>window </b>messages to gain access to those features of the Inspector panel.</font>

<p><font face="Times">Although the Contents inspector's principal role is to let the user view the contents of a File Viewer entry, it can also let the user edit the displayed data.&nbsp; It's best not to overuse this capability, however, since the Contents inspector wasn't designed to substitute for normal applications.</font>

<p><font face="Times">An inspector that permits editing should send itself a <b>touch:</b> message when the user begins modifying the data.&nbsp; This message enables the inspector's OK and Revert buttons and displays a broken &quot;X&quot; in the panel's close box.&nbsp; (See <b>textDidChange:</b> for an alternate way to achieve this result.)&nbsp; The inspector should implement the <b>ok:</b> method to commit the modifications the user has made.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Variables</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">id <b>window</b>;</font>

<p><font face="Times">id <b>okButton</b>;</font>

<p><font face="Times">id <b>revertButton</b>;</font>

<p><font face="Times">id <b>dirNameField</b>;</font>

<p><font face="Times">id <b>dirTitleField</b>;</font>

<p><font face="Times">id <b>fileNameField</b>;</font>

<p><font face="Times">id <b>fileIconButton</b>;</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">window</font></td>

<td><font face="Times">The Inspector window.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">okButton</font></td>

<td><font face="Times">The Inspector's OK button.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">revertButton</font></td>

<td><font face="Times">The Inspector's Revert button.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">dirNameField</font></td>

<td><font face="Times">The TextField that holds the current directory.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">dirTitleField</font></td>

<td><font face="Times">The TextField that titles <b>dirNameField.</b></font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">fileNameField</font></td>

<td><font face="Times">The TextField that displays the file name.</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">fileIconButton</font></td>

<td><font face="Times">The Button that displays the file's icon.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Method Types</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Accessing the inspector object</font></td>

<td><font face="Times">+ new</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Accessing panel controls</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">okButton</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">revertButton</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">window</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Times">Accessing Workspace selection</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=308></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">selectionCount</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">selectionPathsInto:separator:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Managing changes</font></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">ok:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">revert:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">textDidChange:</font><br>
<img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">touch:</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Class Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>new</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><font face="Times">+ <b>new</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Creates a new WMInspector if none exists, or returns the existing one.&nbsp; When the object is created, it must load the nib file that contains the inspector's display.</font>

<p><font face="Times">The Workspace Manager sends a <b>new</b> message whenever it needs to access the inspector object.&nbsp; Thus, your subclass of WMInspector should ensure that no more than one instance of its class is created:</font></td></tr>

</table>

<p><img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">static id ribInspector = nil;</font>

<p><img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">+ new</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">{</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">if (ribInspector == nil) {</font><br>
<img src="../../../Images/sp.gif" width=180 height=1><font face="Courier" size="-1">char path[MAXPATHLEN+1];</font><br>
<img src="../../../Images/sp.gif" width=180 height=1><font face="Courier" size="-1">NXBundle *bundle = [NXBundle bundleForClass:self];</font>

<p><img src="../../../Images/sp.gif" width=180 height=1><font face="Courier" size="-1">self = ribInspector = [super new];</font><br>
<img src="../../../Images/sp.gif" width=180 height=1><font face="Courier" size="-1">if ([bundle getPath:path</font><br>
<img src="../../../Images/sp.gif" width=236 height=1><font face="Courier" size="-1">forResource:&#34;RIBInspector&#34;</font><br>
<img src="../../../Images/sp.gif" width=236 height=1><font face="Courier" size="-1">ofType:&#34;nib&#34;]) {</font><br>
<img src="../../../Images/sp.gif" width=208 height=1><font face="Courier" size="-1">[NXApp loadNibFile:path owner:ribInspector];</font><br>
<img src="../../../Images/sp.gif" width=180 height=1><font face="Courier" size="-1">} else {</font><br>
<img src="../../../Images/sp.gif" width=208 height=1><font face="Courier" size="-1">fprintf (stderr, &#34;Couldn't load RIBInspector.nib\n&#34;);</font><br>
<img src="../../../Images/sp.gif" width=208 height=1><font face="Courier" size="-1">ribInspector = nil;</font><br>
<img src="../../../Images/sp.gif" width=180 height=1><font face="Courier" size="-1">}</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">}</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">return ribInspector;</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">}</font>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>ok:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>ok:</b><i>sender</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement in your subclass to commit the changes that the user has made to the selected item.&nbsp; The OK button in the Inspector panel sends an <b>ok:</b> message when the user clicks it.</font>

<p><font face="Times">This method is optional, but if you implement it, you must send the same message to <b>super</b> as part of your implementation:</font></td></tr>

</table>

<p><img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">ok:sender</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">{</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">/* your code to commit changes */</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">[super ok:sender];</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">return self;</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">}</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">This message to <b>super</b> replaces the broken &quot;X&quot; in the panel's close box with the standard &quot;X&quot;, indicating that the changes have been saved.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>revert:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>touch:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>okButton</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>okButton</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the <b>id</b> of the Inspector's OK button.&nbsp; This can be useful if you want to alter its title, for example.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>revertButton:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>revert:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>revert:</b><i>sender</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Implement in your subclass to load data into the inspector's display.&nbsp; The Workspace Manager sends this message to the inspector object whenever the inspector's display might need to be updated; for example, when the Inspector panel is opened or when the selection changes in the File Viewer.</font>

<p><font face="Times">Your subclass must implement this method, and it must send the same message to <b>super</b> as part of its implementation:</font></td></tr>

</table>

<p><img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">revert:sender</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">{</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">/* your code to show contents of selected item(s) */</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">[super revert:sender];</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">return self;</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">}</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">This message to <b>super</b> replaces the broken &quot;X&quot; in the panel's close box with the standard &quot;X&quot;, indicating that the changes have been discarded.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>ok:</b>,</font> <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>touch:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>revertButton</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>revertButton</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the <b>id</b> of the Inspector's Revert button.&nbsp; This can be useful if you want to alter its title, for example.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>okButton:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>selectionCount</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times">(unsigned)<b>selectionCount</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the number of items selected in the File Viewer.&nbsp; You can use this information to determine whether your inspector should be displayed.&nbsp; For example, most inspectors can give information on only one file at a time, so within their <b>revert: </b>methods, they would have this test:</font></td></tr>

</table>

<p><img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">if ([self selectionCount] != 1) {</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">return nil;</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">} else {</font><br>
<img src="../../../Images/sp.gif" width=152 height=1><font face="Courier" size="-1">/* get the path and display the file's contents */</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">}</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>selectionPathsInto:separator:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>selectionPathsInto:separator:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>selectionPathsInto:</b>(char *)<i>pathString</i> <b>separator:</b>(char)<i>character</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the paths of the files selected in the File Viewer.&nbsp; The paths are place in the string <i>pathString</i>; each path is separated from the previous one by <i>character</i>.&nbsp;&nbsp; For example, if <i>character</i> is `:', <i>pathString</i> could contain &quot;/me/test1:/me/test2:/me/test3&quot;.</font>

<p><font face="Times">If your inspector acts on only one file at a time (see <b>selectionCount</b>), the file's path can be identified using this message:</font></td></tr>

</table>

<p><img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">char fullPath[MAXPATHLEN+1];</font><br>
<img src="../../../Images/sp.gif" width=124 height=1><font face="Courier" size="-1">[self selectionPathsInto:fullPath separator:'\0'];</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>selectionCount</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>textDidChange:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>textDidChange:</b><i>sender</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Sends the WMInspector a <b>touch:</b> message on behalf of some Text object in the Inspector panel.</font>

<p><font face="Times">By making your inspector object the delegate of any Text object in your inspector's display, the Inspector panel will be updated appropriately as the user alters the panel's contents.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>touch:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>touch:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>touch:</b><i>sender</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Changes the image in the Inspector panel's close box to a broken &quot;X&quot; to indicate that the contents has been edited.&nbsp; Also, enables the OK and Revert buttons.</font>

<p><font face="Helvetica"><b>See also:</b></font>&nbsp; <img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>textDidChange:</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>window</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>window</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the <b>id</b> of the window that contains the user interface for the inspector.</font></td></tr>

</table>



<p><br>

</body>
</html>
