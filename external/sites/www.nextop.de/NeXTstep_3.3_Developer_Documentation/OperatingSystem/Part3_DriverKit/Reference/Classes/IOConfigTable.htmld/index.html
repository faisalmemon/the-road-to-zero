<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/OperatingSystem/Part3_DriverKit/Reference/Classes/IOConfigTable.rtf -->
<!-- Date: Sun Jun 28 20:11:14 1998 -->
<head>
<title>IOConfigTable</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Helvetica" size="+2"><b>IOConfigTable</b></font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Inherits From:</b></font></td>

<td><font face="Times">Object</font></td></tr>

<tr valign=top>

<td width=105 height=12></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Helvetica"><b>Declared In:</b></font></td>

<td><font face="Times">driverkit/IOConfigTable.h</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Class Description</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">IOConfigTable is used at both kernel and user level to get configuration information about particular devices and the system as a whole. Which IOConfigTables a software module can obtain, as well as the way it obtains them, depends on whether the module is a driver and whether it's at user or kernel level.</font>

<p><font face="Times">IODevices inside and outside the kernel can get their own IOConfigTables using IODeviceDescription's <b>configTable</b> method. User-level programs can use the methods <b>newForDriver:unit:</b>, <b>newDefaultTableForDriver:</b>, <b>tablesForBootDrivers</b>, and <b>tablesForInstalledDrivers</b> to get IOConfigTables for specific drivers. Both user-level and kernel-level modules can use <b>newFromSystemConfig</b> to get an IOConfigTable that describes the system-wide configuration.</font>

<p><font face="Times">Each IOConfigTable describes one hardware device. Thus, each IOConfigTable (except the system-wide one) corresponds to one IODevice object, which may or may not exist at the time the IOConfigTable is created. At least one IOConfigTable can be created for each driver that's listed in the system-wide IOConfigTable as an active or boot driver. Specifically, each IOConfigTable corresponds to an <b>Instance<i>n</i>.table</b> file in the driver's bundle. See Chapter 4, &quot;Configuring Drivers,&quot; for more information on driver bundles.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">From an IODevice's viewpoint, its IOConfigTable doesn't change. The IOConfigTable keeps the values that were in the corresponding <b>Instance<i>n</i>.table</b> when the driver was loaded. To see changes in <b>Instance<i>n</i>.table</b>, the driver must be reloaded. However, the user-level version of driver IOConfigTables can be synchronized with the corresponding <b>Instance<i>n</i>.table</b> at any time. This means that a user-level program might see different values in a driver's IOConfigTable than the driver sees.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Variables</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">None declared in this class.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Method Types</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Creating and freeing instances</font></td>

<td><font face="Times">+ newForDriver:unit:</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=306></td>

<td><font face="Times">+ newDefaultTableForDriver:</font><br>
<font face="Times">+ newFromSystemConfig</font><br>
<font face="Times">+ tablesForBootDrivers</font><br>
<font face="Times">+ tablesForInstalledDrivers</font><br>
<img src="../../../../Images/c2D.gif" width=8 height=4> <font face="Times">free</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Getting information</font></td>

<td><img src="../../../../Images/c2D.gif" width=8 height=4> <font face="Times">valueForStringKey:</font></td></tr>

<tr valign=top>

<td width=105 height=7></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times">Getting the driver bundle</font></td>

<td><img src="../../../../Images/c2D.gif" width=8 height=4> <font face="Times">driverBundle</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Class Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>newDefaultTableForDriver:unit:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><font face="Times">+ <b>newDefaultTableForDriver:</b>(const char *)<i>driverName</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Creates, if necessary, and returns the default IOConfigTable for the specified driver. The <i>driverName</i> corresponds to the value returned by IODevice's <b>name</b> class method.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">This method can be used only by user-level programs.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>newForDriver:unit:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><font face="Times">+ <b>newForDriver:</b>(const char *)<i>driverName</i> <b>unit:</b>(int)<i>unit</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Creates, if necessary, and returns the IOConfigTable for the specified driver and unit. The <i>driverName</i> and <i>unit</i> values correspond to the values returned by IODevice's <b>name</b> class method and <b>unit</b> instance method, respectively.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">This method can be used only by user-level programs.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>newFromSystemConfig</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><font face="Times">+ <b>newFromSystemConfig</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Creates, if necessary, and returns the IOConfigTable describing the system-wide configuration. This IOConfigTable's values are initialized at boot time, and don't change until the system is rebooted.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>tablesForBootDrivers</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">+ (List</font></td>

<td><font face="Times">*)<b>tablesForBootDrivers</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Creates, if necessary, and returns IOConfigTables, one for each device that was loaded into the system at boot time. This method might return some IOConfigTables that aren't returned by <b>tablesForInstalledDrivers</b>, since this method detects drivers that were loaded due to user action at boot time.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">This method can be used only by user-level programs.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>tablesForInstalledDrivers</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td nowrap><font face="Times">+ (List</font></td>

<td><font face="Times">*)<b>tablesForInstalledDrivers</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Creates, if necessary, and returns IOConfigTables, one for each device that has been loaded into the system. This method knows only about those devices that are specified with the system configuration table's &quot;Active Drivers&quot; and &quot;Boot Drivers&quot; keys. It does <i>not</i> detect drivers that were loaded due to user action at boot time. To get the IOConfigTables for those drivers, you can use <b>tablesForBootDrivers</b>.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">This method can be used only by user-level programs.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=69></td>

<td><font face="Helvetica" size="+1"><b>Instance Methods</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>driverBundle</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../../Images/c2D.gif" width=8 height=4> <font face="Times">(NXBundle *)<b>driverBundle</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Creates, if necessary, and returns the NXBundle corresponding to the driver this IOConfigTable describes. The bundle corresponds to the driver's <b>.config</b> directory under <b>/usr/Devices</b>.</font>

<p><font face="Helvetica"><b>Note:</b></font>&nbsp; <font face="Times">This method can be used only by user-level programs.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>free</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../../Images/c2D.gif" width=8 height=4> <font face="Times"><b>free</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Frees the object and returns <b>nil</b>.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Helvetica"><b>valueForStringKey:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><img src="../../../../Images/c2D.gif" width=8 height=4> <font face="Times">(const char *)<b>valueForStringKey:</b>(const char *)<i>key</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=106></td>

<td><font face="Times">Returns the string value associated with the specified key. Kernel-level drivers should free this string when it's no longer needed, using <b>freeString:</b>. User-level programs should <i>not</i> free this string.</font></td></tr>

</table>



<p>

</body>
</html>
