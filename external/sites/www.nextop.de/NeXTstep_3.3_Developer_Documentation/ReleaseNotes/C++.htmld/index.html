<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/ReleaseNotes/C++.rtf -->
<!-- Date: Sun Jun 28 20:13:26 1998 -->
<head>
<title>C++</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Release 3.3 Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">3.3 Release Notes:</font><br>
<font face="Times" size="+1">Objective C++ Compiler</font>

<p><br><br><br><br>

<p><font face="Times">This file contains developer release notes for the 3.3, 3.2, 3.1, and 3.0 releases of the Objective C++ Compiler.</font></td></tr>

</table>

<p><br><br><br>

<p><font face="Times" size="+1"><b>Notes Specific to Release 3.2</b></font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">The Release 3.2 Objective-C++ compiler is based on version 2.2.2 of the GNU compiler.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times"><b>New Features</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">The new language features supported by the 2.2.2 version are described in the GNU documentation that accompanies the compiler sources.</font></td></tr>

<tr valign=top>

<td width=72 height=10></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">The list of C++ extensions is now: <b><i>.C, .cc, .cxx, .cpp</i></b> and <b><i>.M</i></b>.</font></td></tr>

<tr valign=top>

<td width=72 height=10></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">The <b><i>-ObjC++</i></b> flag overrides the auto-language-selection so that, for example, a .c file can be compiled as Objective-C++ code. However, the <b>/bin/cc++</b> shell script which calls the <b>/bin/cc</b> driver with the <b><i>-ObjC++</i></b> flag continues to be supported.</font></td></tr>

<tr valign=top>

<td width=72 height=10></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">The new system header path for C++-specific headers is <b>/NextDeveloper/Headers/g++</b>. Currently this directory only contains headers specific to libg++ and C++ compatible system header files.</font></td></tr>

<tr valign=top>

<td width=72 height=10></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">The <b>cc</b>(1) driver has been modified to invoke the script <b><i>ld++</i></b> to demangle symbol names in <b>ld</b> output for a more user-friendly error messages.</font></td></tr>

</table>

<p><br><br>

<p><img src="../Images/sp.gif" width=36 height=1><font face="Times"><b>Notes</b></font>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">The current version of the compiler does not support templates.</font></td></tr>

<tr valign=top>

<td width=72 height=10></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times">Most system headers still require that Objective-C++ source files wrap inclusions to them with the extern &#34;C&#34; or extern &#34;Objective-C&#34; syntax.&nbsp; For example,</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=134 height=1><font face="Courier">extern &#34;C&#34; {</font><br>
<img src="../Images/sp.gif" width=134 height=1><font face="Courier">#import &lt;stddef.h&gt;</font><br>
<img src="../Images/sp.gif" width=134 height=1><font face="Courier">#import &lt;streams/streams.h&gt;</font><br>
<img src="../Images/sp.gif" width=134 height=1><font face="Courier">};</font>

<p><br><br>

<p><font face="Times" size="+1"><b>Notes Specific to Release 3.0</b></font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">The Release 3.0 Objective-C++ compiler is based on version 1.39.1 of the GNU Compiler which directly supports version 2.0 of the C++ language, as specified by AT&amp;T (the Release 2.0 compiler was based on version 1.36.4 of G++).&nbsp; The GNU compiler has been extended to recognize Objective-C constructs within C++ source files.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times"><b>New Features</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times"><b>Integrated Compiler Driver</b></font>

<p><font face="Times">The Release 3.0 compiler driver <b>/bin/cc</b> handles C, Objective-C, C++ and Objective-C++ source files.&nbsp; The C++ compiler driver program <b>/bin/cc++</b> is no longer needed (but is still present for compatibility).&nbsp; The compiler driver determines the appropriate language from the suffix of the source files or command line options. Files ending in <b>.c</b> are taken to be C source files, <b>.m</b> indicates an Objective-C source file, and <b>.cc</b>, <b>.cxx</b>, and <b>.C</b> are recognized as C++ source files.&nbsp; The <b><i>-ObjC</i></b> flag specifies that source files should be considered to be Objective C source files regardless of their extension.&nbsp; Similarly, the <b><i>-ObjC+</i></b> flag specifies that source files should be considered to be Objective-C++ source files.&nbsp; The <b>/bin/cc++</b> driver is simply a shell script which calls the <b>/bin/cc</b> driver with the <b><i>-ObjC+</i></b> flag.</font>

<p><br><br>

<p><font face="Times"><b>New Constructor and Destructor Sections</b></font>

<p><font face="Times">The Release 3.0 compiler no longer uses the <b>collect</b> program to gather references to C++ constructors and destructors (which requires linking twice).&nbsp; The compiler now automatically places these references in the new <b>__constructor</b> and <b>__destructor </b>sections of the <b>__TEXT</b> segment, which are automatically coalesced by the linker. Link time should be substantially decreased.</font>

<p><font face="Times">C++ constructors are called from startup routines in <b>crt0.o</b>, and destructors are registered to be called in the reverse order when the program terminates using <b>atexit()</b>.&nbsp; The archive library <b>/usr/lib/libc++.a</b> present in Release 2.0 is no longer needed.</font></td></tr>

</table>



</body>
</html>
