<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /Apps/NextDev/ReleaseNotes/CLibLocalization.rtf -->
<!-- Date: Sun Jun 28 20:13:27 1998 -->
<head>
<title>CLibLocalization</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times" size="-1">Release 3.3 Copyright</font> <font size="-1">&copy;</font><font face="Times" size="-1">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p><br><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">3.3 Release Notes:</font><br>
<font face="Times" size="+1">C Library Support for Localization of Date, Time, and Currency</font>

<p><br><br><br><br><br>

<p><font face="Times">This document assumes you are familiar with the ANSI C draft standard discussion of routines <b>setlocale()</b>, <b>localeconv()</b>, and <b>strftime()</b> and the defaults database.</font>

<p><font face="Times">You can customize the date, time, and currency information returned by <b>strftime() </b>and <b>localeconv()</b> using the defaults mechanism.&nbsp; You must first set the locale to &#34;&#34;, the default locale, using <b>setlocale()</b>.&nbsp; This is automatically done for applications by the Application Kit at startup time.&nbsp; You must also enable the use of these defaults by setting the value of NXUseDateTimeCurrencyDefaults:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXUseDateTimeCurrencyDefaults YES</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">(<b>Note:</b>&nbsp; Setting this default causes <b>strftime()</b> and <b>localeconv()</b> to consult the defaults database for date and time customizations rather than use the values supplied in the <b>international.strings</b> files in the language projects of <b>/NextApps/Preferences</b>.&nbsp; For currency defaults, these functions always consult the database without regard to the setting of NXUseDateTimeCurrencyDefaults.)</font>

<p><font face="Times">These steps having been taken, subsequent calls to <b>strftime()</b> and <b>localeconv() </b>access information from the defaults data base.&nbsp; The defaults for <b>strftime()</b> are equivalent to:</font>

<p><font face="Times">Short days of the week:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXShortDays &#34;Sun Mon Tue Wed Thu Fri Sat&#34;</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">Long days of the week:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXLongDays &#34;Sunday Monday Tuesday Wednesday Thursday Friday Saturday&#34;</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">Short months:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXShortMonths &#34;Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec&#34;</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">Long months:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXLongMonths &#34;January February March April May June July August September October November December&#34;</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">AM and PM indication:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXAmPm &#34;AM PM&#34;</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">Default date and time representation format string for <b>strftime()</b>:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXDateAndTime &#34;%a %b %d %H:%M:%S %Z %Y&#34;</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">Default date representation format string for <b>strftime()</b>:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXDate &#34;%a %b %d %Y&#34;</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">Default time representation format string for <b>strftime()</b>:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">dwrite GLOBAL NXTime &#34;%H:%M:%S %Z&#34;</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">You can modify defaults to reflect the local spelling and preferences of these items.</font>

<p><font face="Times">Number and currency formats are returned in the <b>lconv</b> structure (declared in <b>locale.h</b>):</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">struct lconv {</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *decimal_point;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *thousands_sep;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *grouping;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *int_curr_symbol;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *currency_symbol;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *mon_decimal_point;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *mon_thousands_sep;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *mon_grouping;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *positive_sign;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char *negative_sign;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char int_frac_digits;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char frac_digits;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char p_cs_precedes;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char p_sep_by_space;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char n_cs_precedes;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char n_sep_by_space;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char p_sign_posn;</font><br>
<img src="../Images/sp.gif" width=144 height=1><font face="Courier" size="-1">char n_sign_posn;</font><br>
<img src="../Images/sp.gif" width=108 height=1><font face="Courier" size="-1">};</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">The values are taken from the defaults data base as follows:</font></td></tr>

</table>

<p><img src="../Images/sp.gif" width=72 height=1><font face="Courier" size="-1"><b>dwrite GLOBAL NXNumberGroup '&#34;.&#34; &#34;&#34; 0'</b></font>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times">Stores these strings:</font></td>

<td><font face="Courier" size="-1">char *decimal_point;</font><br>
<font face="Courier" size="-1">char *thousands_sep;</font><br>
<font face="Courier" size="-1">char *grouping;</font></td></tr>

</table>

<p><br><br>

<p><img src="../Images/sp.gif" width=72 height=1><font face="Courier" size="-1"><b>dwrite GLOBAL NXCurrencyGroup '&#34;&#34; &#34;&#34; 0'</b></font>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times">Stores these strings:</font></td>

<td><font face="Courier" size="-1">char *mon_decimal_point;</font><br>
<font face="Courier" size="-1">char *mon_thousands_sep;</font><br>
<font face="Courier" size="-1">char *mon_grouping;</font></td></tr>

</table>

<p><br><br>

<p><img src="../Images/sp.gif" width=72 height=1><font face="Courier" size="-1"><b>dwrite GLOBAL NXCurrencyFormat '&#34;&#34; &#34;&#34; &#34;&#34; &#34;&#34; 255 255 255 255 255 255 255 255'</b></font>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times">Stores these strings and integers:</font></td>

<td><font face="Courier" size="-1">char *int_curr_symbol;</font><br>
<font face="Courier" size="-1">char *currency_symbol;</font><br>
<font face="Courier" size="-1">char *positive_sign;</font><br>
<font face="Courier" size="-1">char *negative_sign;</font><br>
<font face="Courier" size="-1">char int_frac_digits;</font><br>
<font face="Courier" size="-1">char frac_digits;</font><br>
<font face="Courier" size="-1">char p_cs_precedes;</font><br>
<font face="Courier" size="-1">char p_sep_by_space;</font><br>
<font face="Courier" size="-1">char n_cs_precedes;</font><br>
<font face="Courier" size="-1">char n_sep_by_space;</font><br>
<font face="Courier" size="-1">char p_sign_posn;</font><br>
<font face="Courier" size="-1">char n_sign_posn;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times">Note that multiple strings within a string (e.g., &#34;.&#34; &#34;&#34; 0) are separated using spaces. You can use quotes to specify empty string or spaces.&nbsp; You can use \ to escape quotes.&nbsp; The last number in the example &#34;.&#34; &#34;&#34; 0 stores an empty string terminated by a null.&nbsp; You can use additional numbers to specify arbitrary 8-bit unsigned integers with are stored in the string representing grouping.&nbsp; The single quotes enclosing the strings in the <b>dwrite</b> commands above are required so that the strings are correctly parsed by the shell.</font></td></tr>

</table>



<p><br>

</body>
</html>
